(()=>{"use strict";var e={240:function(e,i,t){var o=t(848),s=t(540),n=t(338);let r=e=>(0,o.jsx)("line",{x1:e.position,y1:"0",x2:e.position,y2:e.height,stroke:"#d9d9d9",strokeWidth:e.year%100?"1":"3",strokeDasharray:e.year%100?"4":""}),a=e=>(0,o.jsxs)("g",{children:[(0,o.jsx)("rect",{x:"0%",y:"0%",width:e.padSize.x,height:e.padSize.y,onClick:e.stateResetHandler,onMouseMove:e.stateResetHandler,style:{fill:"white",stroke:"none",strokeWidth:"0",fillOpacity:"0",strokeOpacity:"0"}}),e.yearsOnScale.filter(e.isVisible).map((i,t)=>(0,o.jsx)(r,{year:i,height:e.padSize.y,position:e.positionByYear(i)},"yearLine"+i+t))]}),l=e=>(0,o.jsxs)("g",{children:[(0,o.jsx)("rect",{x:e.position-e.yearLabelWidth/2,y:"0",rx:"5",ry:"5",width:e.yearLabelWidth,height:"40",fill:e.year%100?"#cacacaff":"#a4a4a4ff"}),(0,o.jsx)("text",{x:e.position,y:"8",width:e.yearLabelWidth,dominantBaseline:"hanging",textAnchor:"middle",height:"40",fontSize:"15",fill:e.year%100?"#6b6b6bff":"white",className:"font-mono",children:e.year})]}),h=e=>(0,o.jsx)("div",{className:"scaleContainer",children:(0,o.jsx)("div",{className:"scale",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e.padSize.x} 60`,preserveAspectRatio:"xMidYMid meet",style:{width:e.padSize.x,height:60},children:e.yearsOnScale.filter(e.isVisible).map((i,t)=>(0,o.jsx)(l,{year:i,position:e.positionByYear(i),yearLabelWidth:e.yearLabelWidth},"yearLabel"+i+t))})})});function d(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let p=class{constructor(e,i,t,o){d(this,"id",void 0),d(this,"title",void 0),d(this,"publicationDate",void 0),d(this,"authorId",void 0),this.id=e,this.title=i,this.publicationDate=t,this.authorId=o}},u=class{constructor(e,i,t,o,s,n){d(this,"id",void 0),d(this,"name",void 0),d(this,"born",void 0),d(this,"died",void 0),d(this,"rowNumber",void 0),d(this,"thumbnail",void 0),this.id=e,this.name=i,this.born=t,this.died=o,this.rowNumber=s,this.thumbnail=n}},c=[new u("1","Pan Testowy z baaaadzo długim nazwiskiem",1820,1901,1,"nietzsche.png"),new u("2","Drugi Pan..",1831,1888,2),new u("3","Czeci Pan",1810,1848,3),new u("5","Pan R\xf3wnoległy :)",1850,1888,3,"nietzsche.png"),new u("4","Czarta Pani",1820,1901,4)].sort((e,i)=>e.born-i.born),g=e=>c.find(i=>i.id==e),x=[new p("1","Pierwszy tytuł",1840,"1"),new p("2","Drugi",1842,"1"),new p("3","Książka jakaś",1849,"1"),new p("4","Książka jakaś",1849,"2"),new p("5","Traktat",1874,"2"),new p("6","Esej",1821,"3"),new p("7","Rozprawka",1855,"4"),new p("8","Publikacja o bardzo długim, zawiłym i wielomodułowym tytule. Pierwsza kreww.",1883,"5")].sort((e,i)=>e.publicationDate-i.publicationDate),b=new Map;x.forEach(e=>{b.set(e.id,g(e.authorId))});let m=()=>x,y=e=>x.find(i=>i.id==e),w=e=>b.get(e.id),f=["#2CAA58","#381A47","#321E94","#8C3226","#678A51","#47D7A1","#E78140","#321706","#1B5383","#2F0427","#55BAD8"],S=e=>f[Math.floor(e.split("").map(e=>e.charCodeAt(0)).reduce((e,i)=>Math.min(i,1e3)+e)%1e3/1e3*f.length)],v=e=>{let i=S(e.author.name),t=e.publication.title.split(" ").map(e=>[e]).reduce((i,t)=>{let o=i[i.length-1]+" "+t[0];return o.length<e.settings.maxLettersColumns?[...i.slice(0,-1),o]:[...i,t[0]]}),s=t.slice(0,e.settings.maxLettersRows);return(0,o.jsxs)("g",{children:[(0,o.jsxs)("g",{className:"tooltip",children:[(0,o.jsx)("rect",{x:e.position-100,y:e.rowPosition+e.settings.boxSize/2,rx:"3",ry:"3",width:"220",height:60+10*(s.length-1),style:{fill:"white",stroke:i,strokeWidth:"2px",fillOpacity:"1",strokeOpacity:"1"}}),(0,o.jsx)("text",{x:e.position-100,y:e.rowPosition+e.settings.boxSize/2+20,width:"200",dominantBaseline:"hanging",textAnchor:"start",height:60+10*(s.length-1),fontSize:"14",className:" font-mono font-bold ",fill:i,dy:"10",children:s.map((i,n)=>(0,o.jsxs)("tspan",{x:e.position-90,dy:"0.8em",children:[i," ",n==s.length-1&&s.length!=t.length?"...":""," "]},"pubTitle"+e.publication.id+n))})]}),(0,o.jsx)("circle",{cx:e.position,cy:e.rowPosition+e.settings.boxSize/2,r:e.settings.dotSize,onMouseMove:()=>e.updateHighlightedPublication(e.publication.id),onClick:()=>e.updateHighlightedPublication(e.publication.id),style:{fill:"white",stroke:i,strokeWidth:"4",fillOpacity:"1",strokeOpacity:"1"},className:"tooltipHover cursor-pointer flex h-10 w-10 items-center justify-center rounded-lg hover:bg-blue-50 hover:text-blue-600 transition-colors duration-300"})]})},j=e=>m().filter(i=>e.isVisible(i.publicationDate)).map((e,i)=>({publication:e,author:w(e)})).map((i,t)=>{let{publication:s,author:n}=i;if(n)return(0,o.jsx)(v,{publication:s,author:n,position:e.positionByYear(s.publicationDate),settings:e.publicationNodeSettings,rowPosition:e.rowPosition(n.rowNumber),updateHighlightedPublication:e.updateHighlightedPublication},"publication"+s.id+t)});class z{constructor(e,i){d(this,"x",void 0),d(this,"y",void 0),this.x=e,this.y=i}}let P=e=>{let i=S(e.person.name);return(0,o.jsxs)("g",{children:["(",e.displayAuthorsTimeline&&(0,o.jsxs)("g",{children:[(0,o.jsx)("rect",{x:e.positionStart,y:e.rowPosition,rx:"5",ry:"5",width:e.positionEnd-e.positionStart,height:e.settings.boxSize,style:{fill:i,stroke:i,strokeWidth:"0",fillOpacity:"0.1",strokeOpacity:"1"}}),(0,o.jsx)("line",{x1:e.positionStart+e.settings.boxSize,y1:e.rowPosition+e.settings.boxSize/2,x2:e.positionEnd,y2:e.rowPosition+e.settings.boxSize/2,stroke:i,strokeWidth:"4"})]}),")",e.person.thumbnail&&(0,o.jsx)("image",{href:"/assets/person/"+e.person.thumbnail,x:e.positionStart,y:e.rowPosition,rx:"10",ry:"10",width:e.settings.boxSize,height:e.settings.boxSize,className:"cursor-pointer",onMouseMove:()=>e.updateHighlightedAuthor(e.person.id),onClick:()=>e.updateHighlightedAuthor(e.person.id)}),(0,o.jsx)("rect",{x:e.positionStart,y:e.rowPosition,rx:"10",ry:"10",width:e.settings.boxSize+1,height:e.settings.boxSize+1,style:{fill:i,stroke:i,strokeWidth:"3",fillOpacity:"0.3",strokeOpacity:"1"},className:"cursor-pointer",onMouseMove:()=>e.updateHighlightedAuthor(e.person.id),onClick:()=>e.updateHighlightedAuthor(e.person.id)}),(0,o.jsx)("rect",{x:e.positionStart-1,y:e.rowPosition+e.settings.boxSize-2,rx:"5",ry:"5",width:10*e.person.name.length,height:22,style:{fill:i,stroke:i,strokeWidth:"0",fillOpacity:"1",strokeOpacity:"0"},className:"cursor-pointer"}),(0,o.jsx)("text",{x:e.positionStart+5,y:e.rowPosition+e.settings.boxSize+5,width:10*e.person.name.length,dominantBaseline:"hanging",textAnchor:"start",height:"30",fontSize:"14",fill:"white",className:"cursor-pointer font-mono",children:e.person.name})]})},k=e=>c.filter(i=>e.isVisibleRange(i.born,i.died)).map((i,t)=>(0,o.jsx)(P,{person:i,positionStart:e.positionByYear(i.born),positionEnd:e.positionByYear(i.died),settings:e.personNodesSettings,rowPosition:e.rowPosition(i.rowNumber),updateHighlightedAuthor:e.updateHighlightedAuthor,displayAuthorsTimeline:e.displayAuthorsTimeline},"person"+i.id+t)),M=class{constructor(e,i,t,o){d(this,"id",void 0),d(this,"name",void 0),d(this,"from",void 0),d(this,"to",void 0),this.id=e,this.name=i,this.from=t,this.to=o}},A=[new M("0","***",y("6"),y("1")),new M("1","***",y("6"),y("1")),new M("2","***",y("1"),y("8")),new M("3","***",y("1"),y("5")),new M("4","***",y("2"),y("5")),new M("5","***",y("3"),y("5")),new M("6","***",y("7"),y("5")),new M("7","***",y("2"),y("7")),new M("8","***",y("3"),y("4")),new M("9","***",y("3"),y("4")),new M("10","***",y("7"),y("8")),new M("11","***",y("5"),y("8")),new M("12","***",y("6"),y("8"))].sort((e,i)=>e.from&&i.from?e.from.publicationDate-i.from.publicationDate:0);function N(e,i,t){function o(e,i,t){var o=i.x-e.x,n=i.y-e.y;return s(e,i,Math.min(1,t/Math.sqrt(o*o+n*n)))}function s(e,i,t){return{x:e.x+(i.x-e.x)*t,y:e.y+(i.y-e.y)*t}}function n(e,i){e.length>2&&(e[e.length-2]=i.x,e[e.length-1]=i.y)}function r(e){return{x:parseFloat(e[e.length-2]),y:parseFloat(e[e.length-1])}}var a=e.split(/[,\s]/).reduce(function(e,i){var t=i.match("([a-zA-Z])(.+)");return t?(e.push(t[1]),e.push(t[2])):e.push(i),e},[]).reduce(function(e,i){return parseFloat(i)==i&&e.length?e[e.length-1].push(i):e.push([i]),e},[]),l=[];if(a.length>1){var h=r(a[0]),d=null;"Z"==a[a.length-1][0]&&a[0].length>2&&(d=["L",h.x,h.y],a[a.length-1]=d),l.push(a[0]);for(var p=1;p<a.length;p++){var u=l[l.length-1],c=a[p],g=c==d?a[1]:a[p+1];if(g&&u&&u.length>2&&"L"==c[0]&&g.length>2&&"L"==g[0]){var x,b,m=r(u),y=r(c),w=r(g);t?(x=s(y,u.origPoint||m,i),b=s(y,g.origPoint||w,i)):(x=o(y,m,i),b=o(y,w,i)),n(c,x),c.origPoint=y,l.push(c);var f=s(x,y,.5),S=s(y,b,.5),v=["C",f.x,f.y,S.x,S.y,b.x,b.y];v.origPoint=y,l.push(v)}else l.push(c)}if(d){var j=r(l[l.length-1]);l.push(["Z"]),n(l[0],j)}}else l=a;return l.reduce(function(e,i){return e+i.join(" ")+" "},"")}let D=e=>{if(e.publicationReference.from&&e.publicationReference.to){let i=2*e.settings.boxSize,t=Math.min(e.positionStart,e.positionEnd),s=Math.max(e.positionStart,e.positionEnd),n=s-t<i?(s-t)%i/i:1,r=new z(e.positionStart,e.rowPositionFrom+e.settings.boxSize/2),a=new z(e.positionEnd,e.rowPositionTo+e.settings.boxSize/2),l=r.y>a.y?-1:1,h=r.y==a.y?-1:1,d=r.x>a.x?-1:1,p=.7+.7*((e.publicationReference.to.publicationDate+e.publicationReference.from.publicationDate)%15)/15,u=1.4+.7*((e.publicationReference.to.publicationDate+e.publicationReference.from.publicationDate)%5)/5,c=[];e.positionEnd==e.positionStart?(c.push(new z(r.x,r.y)),c.push(new z(a.x+.1,a.y+.1))):(c.push(new z(r.x+.877*e.settings.dotSize*d*n,r.y+.877*e.settings.dotSize*l*h)),c.push(new z(r.x+.877*e.settings.boxSize*d*n,r.y+e.settings.boxSize*p*l*h)),c.push(new z(r.x+(e.settings.boxSize+e.settings.boxSize*p*d)*n,r.y+e.settings.boxSize*p*l*h)),c.push(new z(r.x+(e.settings.boxSize+e.settings.boxSize*p*d)*n,a.y-e.settings.boxSize*u*l)),c.push(new z(a.x,a.y-e.settings.boxSize*u*l)),c.push(new z(a.x,a.y-e.settings.dotSize*l)));let g=[["M",c[0].x,c[0].y],...c.map(e=>["L",e.x,e.y])].map(e=>e.join(" ")).join(" "),x=S(e.authorFrom.name);return(0,o.jsx)("path",{d:N(g,5,!1),stroke:x,strokeWidth:"2",fill:"none",className:"opacity-70 "+(e.isHighlighted?"animated-dash":"")})}},R=e=>A.map((i,t)=>{var s,n,r,a;if(i.from&&i.to&&e.isVisibleRange(Math.min(null==(s=i.from)?void 0:s.publicationDate,null==(n=i.to)?void 0:n.publicationDate),Math.max(null==(r=i.from)?void 0:r.publicationDate,null==(a=i.to)?void 0:a.publicationDate))){let s=w(i.from),n=w(i.to);if(s&&n)return(0,o.jsx)(D,{publicationReference:i,settings:e.publicationReferenceSettings,authorFrom:s,authorTo:n,positionStart:e.positionByYear(i.from.publicationDate),positionEnd:e.positionByYear(i.to.publicationDate),rowPositionFrom:e.rowPosition(s.rowNumber),rowPositionTo:e.rowPosition(n.rowNumber),isHighlighted:e.highlightedAuthor==s.id||e.highlightedAuthor==n.id||e.highlightedPublication==i.from.id||e.highlightedPublication==i.to.id},"pubref"+i.id+t)}}),O=class{constructor(e,i,t,o,s){d(this,"id",void 0),d(this,"name",void 0),d(this,"attitude",void 0),d(this,"from",void 0),d(this,"to",void 0),this.id=e,this.name=i,this.attitude=t,this.from=o,this.to=s}},Y=[new O("0","***",0,g("3"),g("1")),new O("1","***",2,g("3"),g("5")),new O("1","***",1,g("3"),g("1")),new O("1","***",0,g("1"),g("5")),new O("1","***",2,g("1"),g("4")),new O("1","***",1,g("2"),g("5")),new O("1","***",0,g("4"),g("2")),new O("1","***",2,g("4"),g("5"))].sort((e,i)=>{var t,o;return e.from&&i.from?((null==(t=e.to)?void 0:t.born)||0)-((null==(o=e.to)?void 0:o.born)||0):0}),B=e=>{let i=e.settings.boxSize;if(e.personReference.from&&e.personReference.to){let t=2*e.settings.boxSize,s=Math.min(e.positionStart,e.positionEnd),n=Math.max(e.positionStart,e.positionEnd),r=n-s<t?(n-s)%t/t:1,a=new z(e.positionStart,e.rowPositionFrom+e.settings.boxSize/2),l=new z(e.positionEnd,e.rowPositionTo+e.settings.boxSize/2),h=a.y>l.y?-1:1,d=a.y==l.y?-1:1,p=a.x>l.x?-1:1,u=.7+.7*((e.personReference.to.born+e.personReference.from.born)%15)/15,c=1.4+.7*((e.personReference.to.born+e.personReference.from.born)%5)/5,g=[];e.positionEnd==e.positionStart?(g.push(new z(a.x+i/2*p,a.y+i/2*h)),g.push(new z(l.x+(i/2+.1*p),l.y-(i/2+.1*h)))):(g.push(new z(a.x+e.settings.boxSize*p*r,a.y)),g.push(new z(a.x+(e.settings.boxSize+e.settings.boxSize*u*p)*r,a.y+e.settings.boxSize*u*h*d)),g.push(new z(a.x+(e.settings.boxSize+e.settings.boxSize*u*p)*r,l.y-e.settings.boxSize*c*h)),g.push(new z(l.x,l.y-e.settings.boxSize*c*h)),g.push(new z(l.x+i/2,l.y-i/2*h)));let x=[["M",g[0].x,g[0].y],...g.map(e=>["L",e.x,e.y])].map(e=>e.join(" ")).join(" "),b=(e=>{switch(e){case 2:return"rgba(198, 18, 84, 1)";case 1:return"rgba(10, 25, 119, 1)";case 0:return"rgba(154, 231, 32, 1)"}})(e.personReference.attitude);return(0,o.jsx)("path",{d:N(x,5,!1),stroke:b,strokeWidth:"5",fill:"none",className:"opacity-70 bigdash "+(e.isHighlighted?"animated-bigdash":"")})}},H=e=>Y.map((i,t)=>{var s,n,r,a;if(i.from&&i.to&&e.isVisibleRange(Math.min(null==(s=i.from)?void 0:s.born,null==(n=i.to)?void 0:n.born),Math.max(null==(r=i.from)?void 0:r.died,null==(a=i.to)?void 0:a.died))){let s=g(i.from.id),n=g(i.to.id);if(s&&n)return(0,o.jsx)(B,{personReference:i,settings:e.personReferenceSettings,authorFrom:s,authorTo:n,positionStart:e.positionByYear(i.from.born),positionEnd:e.positionByYear(i.to.born),rowPositionFrom:e.rowPosition(s.rowNumber),rowPositionTo:e.rowPosition(n.rowNumber),isHighlighted:e.highlightedAuthor==s.id||e.highlightedAuthor==n.id},"personref"+i.id+t)}}),E=e=>{let i=(0,s.useId)();return(0,o.jsxs)("div",{className:" neumorphism-toggle cursor-pointer "+(e.disabled?" switchDisabled":""),children:[(0,o.jsx)("input",{type:"checkbox",id:i,checked:e.state,onChange:i=>{e.disabled||e.useState(i.target.checked)}}),(0,o.jsxs)("label",{htmlFor:i,children:[(0,o.jsx)("div",{className:"switch",children:(0,o.jsx)("div",{className:"dot"})}),(0,o.jsx)("span",{children:e.label})]}),(0,o.jsx)("span",{children:e.offMsg})]})},L=e=>{let[i,t]=s.useState(!1);return(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"sidebar fixed top-0 bottom-0 lg:left-0 right-[-300px] duration-1000 p-2 w-[300px] overflow-y-auto h-screen "+(i?"hidden":""),children:(0,o.jsx)("div",{className:"text-gray-100 text-xl",children:(0,o.jsx)("div",{className:"p-2.5 mt-1 flex items-center rounded-md cursor-pointer",onClick:()=>t(!0),children:(0,o.jsx)("i",{className:"bi bi-app-indicator px-2 py-1 bg-blue-600 rounded-md",style:{background:"linear-gradient(90deg, #ff4f7e, #fe27be)"},children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"})})})})})}),(0,o.jsxs)("div",{className:"sidebar fixed top-0 bottom-0 lg:left-0 right-[-300px] duration-1000 p-2 w-[300px] overflow-y-auto shadow h-screen bg-gray-900/50 backdrop-blur-md "+(i?"":"hidden"),children:[(0,o.jsxs)("div",{className:"text-gray-100 text-xl",children:[(0,o.jsxs)("div",{className:"p-2.5 mt-1 flex items-center rounded-md cursor-pointer",onClick:()=>t(!1),children:[(0,o.jsx)("i",{className:"bi bi-app-indicator px-2 py-1 bg-blue-600 rounded-md",style:{background:"linear-gradient(90deg, #ff4f7e, #fe27be)"},children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"})})}),(0,o.jsx)("h1",{className:"text-[15px]  ml-3 text-xl text-gray-200 font-bold",children:"Ustawienia"}),(0,o.jsx)("i",{className:"bi bi-x ml-20 cursor-pointer lg:hidden"})]}),(0,o.jsx)("hr",{className:"my-2 text-gray-600"}),(0,o.jsx)(E,{label:"Autorzy",state:e.displayAuthors,useState:e.setDisplayAuthors,offMsg:""})]}),(0,o.jsx)("div",{className:"sm:col-span-4",children:(0,o.jsx)(E,{label:"Życiorysy",state:e.displayAuthorsTimeline,useState:e.setDisplayAuthorsTimeline,offMsg:"",disabled:!e.displayAuthors})}),(0,o.jsx)("div",{className:"sm:col-span-4",children:(0,o.jsx)(E,{label:"Sympatie",state:e.displayAuthorRelations,useState:e.setDisplayAuthorRelations,offMsg:"",disabled:!e.displayAuthors})}),(0,o.jsx)("div",{className:"sm:col-span-4",children:(0,o.jsx)(E,{label:"Publikacje",state:e.displayPublications,useState:e.setDisplayPublications,offMsg:""})}),(0,o.jsx)("div",{className:"sm:col-span-4",children:(0,o.jsx)(E,{label:"Odniesienia",state:e.displayPublicationRelations,useState:e.setDisplayPublicationRelations,offMsg:"",disabled:!e.displayPublications})})]})]})},C=()=>{let e="undefined"!=typeof window,i=()=>({x:e?window.innerWidth:0,y:e?window.innerHeight:0}),[t,n]=s.useState(i());s.useEffect(()=>{if(e){function t(){n(i())}return window.addEventListener("resize",t),window.addEventListener("orientationchange",t),()=>window.removeEventListener("resize",t)}},[e]);let[r,l]=s.useState(!0),[d,p]=s.useState(!0),[u,c]=s.useState(!0),[g,x]=s.useState(!0),[b,m]=s.useState(!0),[y,w]=s.useState(22),[f,S]=s.useState(0),[v,P]=s.useState({isDragged:!1,startViewPosition:{x:0,y:0},startDragPosition:{x:0,y:0}}),[M,A]=s.useState("0"),[N,D]=s.useState("0"),[O,Y]=s.useState({x:1809,y:0}),[B,E]=s.useState({from:-1200,to:2025,stepSize:10}),C=[...Array(Math.ceil((B.to-B.from)/B.stepSize))].map((e,i)=>B.from+i*B.stepSize),T=e=>(e-O.x)*y,W=e=>T(e)+165>0&&T(e)-165<t.x,V=(e,i)=>T(i)+165>0&&T(e)-165<t.x,F=e=>165*e+O.y,X=(e,i,t)=>{0==e&&P({isDragged:!0,startViewPosition:O,startDragPosition:{x:i,y:t}})},I=()=>P(e=>({...e,isDragged:!1})),Z=(e,i)=>{v.isDragged&&Y({x:Math.min(Math.max(v.startViewPosition.x-(e-v.startDragPosition.x)/y,B.from-100),B.to+100),y:v.startViewPosition.y+(i-v.startDragPosition.y)})},$=(e,i,t,o)=>Math.sqrt(Math.pow(e-t,2)+Math.pow(i-o,2));return(0,o.jsxs)("div",{style:{backgroundColor:"#f3f3f3",width:t.x,height:t.y,overflow:"hidden"},onMouseDown:e=>X(e.button,e.pageX,e.pageY),onTouchStart:e=>(e=>{switch(e.length){case 1:X(0,e[0].pageX,e[0].pageY);break;case 2:X(0,e[0].pageX,e[0].pageY),S($(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY))}})(e.touches),onMouseUp:e=>I(),onTouchEnd:e=>I(),onMouseMove:e=>Z(e.pageX,e.pageY),onTouchMove:e=>(e=>{switch(e.length){case 1:Z(e[0].pageX,e[0].pageY);break;case 2:let i=$(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY);w(y-(f-i)/100),S(i),y<=10?E(e=>({...e,stepSize:100})):y<=20?E(e=>({...e,stepSize:10})):E(e=>({...e,stepSize:5})),I()}})(e.touches),onWheel:e=>{var i;11>=Math.max(1,y-(i=e.deltaY)/100)?(E(e=>({...e,stepSize:100})),w(Math.max(1,y-i/100))):y-i/200<=22?(E(e=>({...e,stepSize:10})),w(y-i/200)):(E(e=>({...e,stepSize:5})),w(y-i/300)),Y({x:O.x-i/100,y:O.y})},children:[(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${t.x} ${t.y}`,preserveAspectRatio:"xMidYMid meet",style:{width:t.x,height:t.y},children:[(0,o.jsx)(a,{padSize:new z(t.x,t.y),isVisible:W,positionByYear:T,stateResetHandler:()=>{D("0"),A("0")},yearsOnScale:C}),u&&r&&(0,o.jsx)(H,{highlightedAuthor:M,isVisibleRange:V,positionByYear:T,personReferenceSettings:{boxSize:50},rowPosition:F}),r&&(0,o.jsx)(k,{isVisibleRange:V,personNodesSettings:{boxSize:50},positionByYear:T,rowPosition:F,updateHighlightedAuthor:A,displayAuthorsTimeline:d}),b&&g&&(0,o.jsx)(R,{highlightedAuthor:M,highlightedPublication:N,isVisibleRange:V,positionByYear:T,publicationReferenceSettings:{dotSize:15,boxSize:50},rowPosition:F}),g&&(0,o.jsx)(j,{isVisible:W,positionByYear:T,publicationNodeSettings:{dotSize:15,boxSize:50,maxLettersColumns:25,maxLettersRows:3},rowPosition:F,updateHighlightedPublication:D})]}),(0,o.jsx)(h,{padSize:new z(t.x,t.y),isVisible:W,positionByYear:T,yearLabelWidth:100,yearsOnScale:C}),(0,o.jsx)(L,{displayAuthors:r,setDisplayAuthors:l,displayAuthorsTimeline:d,setDisplayAuthorsTimeline:p,displayAuthorRelations:u,setDisplayAuthorRelations:c,displayPublications:g,setDisplayPublications:x,displayPublicationRelations:b,setDisplayPublicationRelations:m})]})},T=document.getElementById("root");T&&n.createRoot(T).render((0,o.jsx)(s.StrictMode,{children:(0,o.jsx)(()=>(0,o.jsx)(C,{}),{})}))}},i={};function t(o){var s=i[o];if(void 0!==s)return s.exports;var n=i[o]={exports:{}};return e[o](n,n.exports,t),n.exports}t.m=e,t.o=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),(()=>{var e=[];t.O=(i,o,s,n)=>{if(o){n=n||0;for(var r=e.length;r>0&&e[r-1][2]>n;r--)e[r]=e[r-1];e[r]=[o,s,n];return}for(var a=1/0,r=0;r<e.length;r++){for(var[o,s,n]=e[r],l=!0,h=0;h<o.length;h++)(!1&n||a>=n)&&Object.keys(t.O).every(e=>t.O[e](o[h]))?o.splice(h--,1):(l=!1,n<a&&(a=n));if(l){e.splice(r--,1);var d=s();void 0!==d&&(i=d)}}return i}})(),(()=>{var e={410:0};t.O.j=i=>0===e[i];var i=(i,o)=>{var s,n,[r,a,l]=o,h=0;if(r.some(i=>0!==e[i])){for(s in a)t.o(a,s)&&(t.m[s]=a[s]);if(l)var d=l(t)}for(i&&i(o);h<r.length;h++)n=r[h],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(d)},o=self.webpackChunkchronology_presenter=self.webpackChunkchronology_presenter||[];o.forEach(i.bind(null,0)),o.push=i.bind(null,o.push.bind(o))})();var o=t.O(void 0,["783"],function(){return t(240)});o=t.O(o)})();