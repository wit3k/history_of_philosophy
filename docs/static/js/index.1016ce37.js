(()=>{"use strict";var e={279:function(e,t,i){var o=i(848),s=i(540),r=i(338);let n=e=>(0,o.jsx)("line",{x1:e.position,y1:"0",x2:e.position,y2:e.height,stroke:"#d9d9d9",strokeWidth:e.year%100?"1":"3",strokeDasharray:e.year%100?"4":""}),a=e=>(0,o.jsxs)("g",{children:[(0,o.jsx)("rect",{x:e.position-e.yearLabelWidth/2,y:"30",rx:"5",ry:"5",width:e.yearLabelWidth,height:"40",fill:e.year%100?"#cecece":"#eeeeee"}),(0,o.jsx)("text",{x:e.position,y:"55",width:e.yearLabelWidth,dominantBaseline:"middle",textAnchor:"middle",height:"40",fontFamily:"Verdana",fontSize:"15",fill:"dark-grey",children:e.year})]});function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let d=class{constructor(e,t,i,o,s){h(this,"id",void 0),h(this,"name",void 0),h(this,"born",void 0),h(this,"died",void 0),h(this,"rowNumber",void 0),this.id=e,this.name=t,this.born=i,this.died=o,this.rowNumber=s}},l=[new d("1","Pan Testowy z Bardzo długim",1820,1901,1),new d("2","Drugi Pan",1831,1888,2),new d("3","Czeci Pan",1810,1848,3),new d("4","Czarta Pani",1820,1901,4)].sort((e,t)=>e.born-t.born),c=["#2CAA58","#381A47","#321E94","#8C3226","#678A51","#47D7A1","#E78140","#321706","#1B5383","#2F0427","#55BAD8"],p=e=>c[Math.floor(e.split("").map(e=>e.charCodeAt(0)).reduce((e,t)=>Math.min(t,1e3)+e)%1e3/1e3*c.length)],w=e=>{let t=p(e.person.name);return(0,o.jsxs)("g",{onClick:e=>console.log(e),children:[(0,o.jsx)("rect",{x:e.positionStart+5,y:e.rowPosition,rx:"5",ry:"5",width:e.settings.boxSize,height:e.settings.boxSize,style:{fill:t,stroke:t,strokeWidth:"0",fillOpacity:"0.1",strokeOpacity:"1"}}),(0,o.jsx)("rect",{x:e.positionStart,y:e.rowPosition-5,rx:"10",ry:"10",width:e.settings.boxSize+10,height:e.settings.boxSize+10,style:{fill:t,stroke:t,strokeWidth:"1",fillOpacity:"0.1",strokeOpacity:"1"}}),(0,o.jsx)("rect",{x:e.positionStart,y:e.rowPosition+e.settings.boxSize,rx:"5",ry:"5",width:10*e.person.name.length,height:30,style:{fill:t,stroke:t,strokeWidth:"0",fillOpacity:"1",strokeOpacity:"0"}}),(0,o.jsx)("text",{x:e.positionStart+5,y:e.rowPosition+e.settings.boxSize+6,width:10*e.person.name.length,dominantBaseline:"hanging",textAnchor:"start",height:"40",fontFamily:"Verdana",fontSize:"15",fill:"white",children:e.person.name}),(0,o.jsx)("rect",{x:e.positionStart+10+e.settings.boxSize,y:e.rowPosition,rx:"5",ry:"5",width:e.positionEnd-e.positionStart,height:e.settings.boxSize,style:{fill:t,stroke:t,strokeWidth:"1",fillOpacity:"0.1",strokeOpacity:"1"}}),(0,o.jsx)("line",{x1:e.positionStart+20+e.settings.boxSize,y1:e.rowPosition+e.settings.boxSize/2,x2:e.positionEnd-0+e.settings.boxSize,y2:e.rowPosition+e.settings.boxSize/2,stroke:"#ffffff",strokeWidth:"3"})]})},g=class{constructor(e,t,i,o){h(this,"id",void 0),h(this,"title",void 0),h(this,"publicationDate",void 0),h(this,"authorId",void 0),this.id=e,this.title=t,this.publicationDate=i,this.authorId=o}},u=[new g("1","Pierwszy tytuł",1840,"1"),new g("2","Drugi",1842,"1"),new g("3","Książka jakaś",1849,"1"),new g("4","Książka jakaś",1849,"2"),new g("5","Traktat",1844,"2"),new g("6","Esej",1844,"3"),new g("7","Rozprawka",1855,"4")],x=new Map;u.forEach(e=>{x.set(e.id,l.find(t=>e.authorId==t.id))});let y=u.sort((e,t)=>e.publicationDate-t.publicationDate),f=e=>{let t=p(e.author.name);return(0,o.jsx)("g",{onClick:e=>console.log(e),children:(0,o.jsx)("circle",{cx:e.position+e.settings.boxSize/2,cy:e.rowPosition+e.settings.boxSize/2,r:e.settings.dotSize,style:{fill:t,stroke:"white",strokeWidth:"2",fillOpacity:"1",strokeOpacity:"1"}})})},b=()=>{let e=function(){let e="undefined"!=typeof window;function t(){return{width:e?window.innerWidth:0,height:e?window.innerHeight:0}}let[i,o]=(0,s.useState)(t());return(0,s.useEffect)(()=>{if(e){function i(){o(t())}return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)}},[e]),i}(),[t,i]=s.useState(15),[r,h]=s.useState(0),d=(e,t,i,o)=>Math.sqrt(Math.pow(e-i,2)+Math.pow(t-o,2)),[c,p]=s.useState({isDragged:!1,startViewPosition:{x:0,y:0},startDragPosition:{x:0,y:0}}),[g,u]=s.useState({x:1785,y:0}),[b,S]=s.useState({from:-1200,to:2025,stepSize:10}),z={boxSize:50},m={dotSize:15,boxSize:50},v={windowSize:{x:e.width,y:e.height},yearLabelWidth:100,rowHeight:165},k=[...Array(Math.ceil((b.to-b.from)/b.stepSize))].map((e,t)=>b.from+t*b.stepSize),j=e=>(e-g.x)*t,P=e=>j(e)+v.rowHeight>0&&j(e)-v.rowHeight<v.windowSize.x,O=e=>v.rowHeight*e+g.y,D=(e,t,i)=>{0==e&&p({isDragged:!0,startViewPosition:g,startDragPosition:{x:t,y:i}})},M=()=>p(e=>({...e,isDragged:!1})),W=(e,i)=>{c.isDragged&&u({x:Math.min(Math.max(c.startViewPosition.x-(e-c.startDragPosition.x)/t,b.from-v.yearLabelWidth),b.to+v.yearLabelWidth),y:c.startViewPosition.y+(i-c.startDragPosition.y)})};return(0,o.jsxs)("div",{style:{backgroundColor:"#f3f3f3",width:v.windowSize.x,height:v.windowSize.y,overflow:"hidden"},onMouseDown:e=>D(e.button,e.pageX,e.pageY),onTouchStart:e=>{switch(e.touches.length){case 1:D(0,e.touches[0].pageX,e.touches[0].pageY);break;case 2:D(0,e.touches[0].pageX,e.touches[0].pageY),h(d(e.touches[0].pageX,e.touches[0].pageY,e.touches[1].pageX,e.touches[1].pageY))}},onMouseUp:e=>M(),onTouchEnd:e=>{0===e.touches.length&&M()},onMouseMove:e=>W(e.pageX,e.pageY),onTouchMove:e=>{switch(e.touches.length){case 1:W(e.touches[0].pageX,e.touches[0].pageY);break;case 2:W(e.touches[0].pageX,e.touches[0].pageY);let o=d(e.touches[0].pageX,e.touches[0].pageY,e.touches[1].pageX,e.touches[1].pageY);i(t+(r-o)),h(o),t<=10?S(e=>({...e,stepSize:100})):t<=20?S(e=>({...e,stepSize:10})):S(e=>({...e,stepSize:5}))}},onWheel:e=>{t<=10?(i(Math.max(1,t-e.deltaY/200)),S(e=>({...e,stepSize:100}))):t<=20?(i(t-e.deltaY/400),S(e=>({...e,stepSize:10}))):(i(t-e.deltaY/600),S(e=>({...e,stepSize:5})))},children:[(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${v.windowSize.x} ${v.windowSize.y}`,preserveAspectRatio:"xMidYMid meet",style:{width:v.windowSize.x,height:v.windowSize.y},children:[k.filter(P).map((e,t)=>(0,o.jsx)(n,{year:e,height:v.windowSize.y,position:j(e)},"yearLine"+e+t)),l.filter(e=>{let t;return t=e.born,j(e.died)+v.rowHeight>0&&j(t)-v.rowHeight<v.windowSize.x}).map((e,t)=>(0,o.jsx)(w,{person:e,positionStart:j(e.born),positionEnd:j(e.died),settings:z,rowPosition:O(e.rowNumber)},"person"+e.id+t)),y.filter(e=>P(e.publicationDate)).map((e,t)=>({publication:e,author:x.get(e.id)})).map((e,t)=>{let{publication:i,author:s}=e;if(s)return(0,o.jsx)(f,{publication:i,author:s,position:j(i.publicationDate),settings:m,rowPosition:O(s.rowNumber)},"publication"+i.id+t)})]}),(0,o.jsx)("div",{className:"scaleContainer",children:(0,o.jsx)("div",{className:"scale",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${v.windowSize.x} 60`,preserveAspectRatio:"xMidYMid meet",style:{width:v.windowSize.x,height:60},children:k.filter(P).map((e,t)=>(0,o.jsx)(a,{year:e,position:j(e),yearLabelWidth:v.yearLabelWidth},"yearLabel"+e+t))})})})]})},S=document.getElementById("root");S&&r.createRoot(S).render((0,o.jsx)(s.StrictMode,{children:(0,o.jsx)(()=>(0,o.jsx)(b,{}),{})}))}},t={};function i(o){var s=t[o];if(void 0!==s)return s.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,i),r.exports}i.m=e,i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=[];i.O=(t,o,s,r)=>{if(o){r=r||0;for(var n=e.length;n>0&&e[n-1][2]>r;n--)e[n]=e[n-1];e[n]=[o,s,r];return}for(var a=1/0,n=0;n<e.length;n++){for(var[o,s,r]=e[n],h=!0,d=0;d<o.length;d++)(!1&r||a>=r)&&Object.keys(i.O).every(e=>i.O[e](o[d]))?o.splice(d--,1):(h=!1,r<a&&(a=r));if(h){e.splice(n--,1);var l=s();void 0!==l&&(t=l)}}return t}})(),(()=>{var e={410:0};i.O.j=t=>0===e[t];var t=(t,o)=>{var s,r,[n,a,h]=o,d=0;if(n.some(t=>0!==e[t])){for(s in a)i.o(a,s)&&(i.m[s]=a[s]);if(h)var l=h(i)}for(t&&t(o);d<n.length;d++)r=n[d],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(l)},o=self.webpackChunkchronology_presenter=self.webpackChunkchronology_presenter||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=i.O(void 0,["783"],function(){return i(279)});o=i.O(o)})();