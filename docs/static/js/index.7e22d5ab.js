(()=>{"use strict";var t={468:function(t,e,i){var o=i(848),n=i(540),s=i(338);let r=t=>(0,o.jsx)("line",{x1:t.position,y1:"0",x2:t.position,y2:t.height,stroke:"#d9d9d9",strokeWidth:t.year%100?"1":"3",strokeDasharray:t.year%100?"4":""}),a=t=>(0,o.jsxs)("g",{children:[(0,o.jsx)("rect",{x:t.position-t.yearLabelWidth/2,y:"30",rx:"5",ry:"5",width:t.yearLabelWidth,height:"40",fill:t.year%100?"#cecece":"#eeeeee"}),(0,o.jsx)("text",{x:t.position,y:"55",width:t.yearLabelWidth,dominantBaseline:"middle",textAnchor:"middle",height:"40",fontFamily:"Verdana",fontSize:"15",fill:"dark-grey",children:t.year})]});function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}let l=class{constructor(t,e,i,o,n){h(this,"id",void 0),h(this,"name",void 0),h(this,"born",void 0),h(this,"died",void 0),h(this,"rowNumber",void 0),this.id=t,this.name=e,this.born=i,this.died=o,this.rowNumber=n}},d=[new l("1","Pan Testowy z baaaadzo długim nazwiskiem",1820,1901,1),new l("2","Drugi Pan..",1831,1888,2),new l("3","Czeci Pan",1810,1848,3),new l("5","Pan R\xf3wnoległy :)",1850,1888,3),new l("4","Czarta Pani",1820,1901,4)],u=["#2CAA58","#381A47","#321E94","#8C3226","#678A51","#47D7A1","#E78140","#321706","#1B5383","#2F0427","#55BAD8"],p=t=>u[Math.floor(t.split("").map(t=>t.charCodeAt(0)).reduce((t,e)=>Math.min(e,1e3)+t)%1e3/1e3*u.length)],c=t=>{let e=p(t.person.name);return(0,o.jsxs)("g",{children:[(0,o.jsx)("rect",{x:t.positionStart,y:t.rowPosition,rx:"5",ry:"5",width:t.positionEnd-t.positionStart,height:t.settings.boxSize,style:{fill:e,stroke:e,strokeWidth:"0",fillOpacity:"0.1",strokeOpacity:"1"}}),(0,o.jsx)("line",{x1:t.positionStart+t.settings.boxSize,y1:t.rowPosition+t.settings.boxSize/2,x2:t.positionEnd,y2:t.rowPosition+t.settings.boxSize/2,stroke:e,strokeWidth:"4"}),(0,o.jsx)("rect",{x:t.positionStart,y:t.rowPosition,rx:"10",ry:"10",width:t.settings.boxSize,height:t.settings.boxSize,style:{fill:e,stroke:e,strokeWidth:"2",fillOpacity:"0.1",strokeOpacity:"1"},className:"cursor-pointer",onMouseMove:()=>t.updateHighlightedAuthor(t.person.id),onClick:()=>t.updateHighlightedAuthor(t.person.id)}),(0,o.jsx)("rect",{x:t.positionStart-1,y:t.rowPosition+t.settings.boxSize-15,rx:"5",ry:"5",width:10*t.person.name.length,height:22,style:{fill:e,stroke:e,strokeWidth:"0",fillOpacity:"1",strokeOpacity:"0"},className:"cursor-pointer"}),(0,o.jsx)("text",{x:t.positionStart+5,y:t.rowPosition+t.settings.boxSize-12,width:10*t.person.name.length,dominantBaseline:"hanging",textAnchor:"start",height:"30",fontFamily:"Verdana",fontSize:"15",fill:"white",className:"cursor-pointer",children:t.person.name})]})},g=class{constructor(t,e,i,o){h(this,"id",void 0),h(this,"title",void 0),h(this,"publicationDate",void 0),h(this,"authorId",void 0),this.id=t,this.title=e,this.publicationDate=i,this.authorId=o}},w=[new g("1","Pierwszy tytuł",1840,"1"),new g("2","Drugi",1842,"1"),new g("3","Książka jakaś",1849,"1"),new g("4","Książka jakaś",1849,"2"),new g("5","Traktat",1874,"2"),new g("6","Esej",1821,"3"),new g("7","Rozprawka",1855,"4"),new g("8","Publikacja o bardzo długim, zawiłym i wielomodułowym tytule. Pierwsza kreww.",1883,"5")],x=new Map;w.forEach(t=>{x.set(t.id,d.find(e=>t.authorId==e.id))});let y=t=>w.find(e=>e.id==t),f=t=>x.get(t.id),m=t=>{let e=p(t.author.name),i=t.publication.title.split(" ").map(t=>[t]).reduce((e,i)=>{let o=e[e.length-1]+" "+i[0];return o.length<t.settings.maxLettersColumns?[...e.slice(0,-1),o]:[...e,i[0]]}),n=i.slice(0,t.settings.maxLettersRows);return(0,o.jsxs)("g",{children:[(0,o.jsxs)("g",{className:"tooltip",children:[(0,o.jsx)("rect",{x:t.position-100,y:t.rowPosition+t.settings.boxSize/2,rx:"3",ry:"3",width:"220",height:60+10*(n.length-1),style:{fill:"white",stroke:e,strokeWidth:"2px",fillOpacity:"0.5",strokeOpacity:"1"}}),(0,o.jsx)("text",{x:t.position-100,y:t.rowPosition+t.settings.boxSize/2+20,width:"200",dominantBaseline:"hanging",textAnchor:"start",height:60+10*(n.length-1),fontFamily:"Verdana",fontSize:"15",fill:e,dy:"10",children:n.map((e,s)=>(0,o.jsxs)("tspan",{x:t.position-90,dy:"0.8em",children:[e," ",s==n.length-1&&n.length!=i.length?"...":""," "]}))})]}),(0,o.jsx)("circle",{cx:t.position,cy:t.rowPosition+t.settings.boxSize/2,r:t.settings.dotSize,onMouseMove:()=>t.updateHighlightedPublication(t.publication.id),onClick:()=>t.updateHighlightedPublication(t.publication.id),style:{fill:"white",stroke:e,strokeWidth:"4",fillOpacity:"1",strokeOpacity:"1"},className:"tooltipHover cursor-pointer"})]})},b=class{constructor(t,e,i,o){h(this,"id",void 0),h(this,"name",void 0),h(this,"from",void 0),h(this,"to",void 0),this.id=t,this.name=e,this.from=i,this.to=o}},S=[new b("0","***",y("6"),y("1")),new b("1","***",y("6"),y("1")),new b("2","***",y("1"),y("8")),new b("3","***",y("1"),y("5")),new b("4","***",y("2"),y("5")),new b("5","***",y("3"),y("5")),new b("6","***",y("7"),y("5")),new b("7","***",y("2"),y("7")),new b("8","***",y("3"),y("4")),new b("9","***",y("3"),y("4")),new b("10","***",y("7"),y("8")),new b("11","***",y("5"),y("8")),new b("12","***",y("6"),y("8"))];class z{constructor(t,e){h(this,"x",void 0),h(this,"y",void 0),this.x=t,this.y=e}}let v=t=>{if(t.publicationReference.from&&t.publicationReference.to){let e=2*t.settings.boxSize,i=Math.min(t.positionStart,t.positionEnd),n=Math.max(t.positionStart,t.positionEnd),s=n-i<e?(n-i)%e/e:1,r=new z(t.positionStart,t.rowPositionFrom+t.settings.boxSize/2),a=new z(t.positionEnd,t.rowPositionTo+t.settings.boxSize/2),h=r.y>a.y?-1:1,l=r.y==a.y?-1:1,d=r.x>a.x?-1:1,u=.7+.7*((t.publicationReference.to.publicationDate+t.publicationReference.from.publicationDate)%15)/15,c=1.4+.7*((t.publicationReference.to.publicationDate+t.publicationReference.from.publicationDate)%5)/5,g=[];t.positionEnd==t.positionStart?(g.push(new z(r.x,r.y)),g.push(new z(a.x+.1,a.y+.1))):(g.push(new z(r.x+.877*t.settings.dotSize*d*s,r.y+.877*t.settings.dotSize*h*l)),g.push(new z(r.x+.877*t.settings.boxSize*d*s,r.y+t.settings.boxSize*u*h*l)),g.push(new z(r.x+(t.settings.boxSize+t.settings.boxSize*u*d)*s,r.y+t.settings.boxSize*u*h*l)),g.push(new z(r.x+(t.settings.boxSize+t.settings.boxSize*u*d)*s,a.y-t.settings.boxSize*c*h)),g.push(new z(a.x,a.y-t.settings.boxSize*c*h)),g.push(new z(a.x,a.y-t.settings.dotSize*h)));let w=[["M",g[0].x,g[0].y],...g.map(t=>["L",t.x,t.y])].map(t=>t.join(" ")).join(" "),x=p(t.authorFrom.name);return(0,o.jsx)("path",{d:function(t,e,i){function o(t,e,i){var o=e.x-t.x,s=e.y-t.y;return n(t,e,Math.min(1,i/Math.sqrt(o*o+s*s)))}function n(t,e,i){return{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}}function s(t,e){t.length>2&&(t[t.length-2]=e.x,t[t.length-1]=e.y)}function r(t){return{x:parseFloat(t[t.length-2]),y:parseFloat(t[t.length-1])}}var a=t.split(/[,\s]/).reduce(function(t,e){var i=e.match("([a-zA-Z])(.+)");return i?(t.push(i[1]),t.push(i[2])):t.push(e),t},[]).reduce(function(t,e){return parseFloat(e)==e&&t.length?t[t.length-1].push(e):t.push([e]),t},[]),h=[];if(a.length>1){var l=r(a[0]),d=null;"Z"==a[a.length-1][0]&&a[0].length>2&&(d=["L",l.x,l.y],a[a.length-1]=d),h.push(a[0]);for(var u=1;u<a.length;u++){var p=h[h.length-1],c=a[u],g=c==d?a[1]:a[u+1];if(g&&p&&p.length>2&&"L"==c[0]&&g.length>2&&"L"==g[0]){var w,x,y=r(p),f=r(c),m=r(g);i?(w=n(f,p.origPoint||y,5),x=n(f,g.origPoint||m,5)):(w=o(f,y,e),x=o(f,m,e)),s(c,w),c.origPoint=f,h.push(c);var b=n(w,f,.5),S=n(f,x,.5),z=["C",b.x,b.y,S.x,S.y,x.x,x.y];z.origPoint=f,h.push(z)}else h.push(c)}if(d){var v=r(h[h.length-1]);h.push(["Z"]),s(h[0],v)}}else h=a;return h.reduce(function(t,e){return t+e.join(" ")+" "},"")}(w,5,!1),stroke:x,strokeWidth:"2",fill:"none",className:"opacity-70 "+(t.isHighlighted?"animated-dash":"")})}},k=()=>{let t=function(){let t="undefined"!=typeof window;function e(){return{width:t?window.innerWidth:0,height:t?window.innerHeight:0}}let[i,o]=(0,n.useState)(e());return(0,n.useEffect)(()=>{if(t){function i(){o(e())}return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)}},[t]),i}(),[e,i]=n.useState(22),[s,h]=n.useState(0),l=(t,e,i,o)=>Math.sqrt(Math.pow(t-i,2)+Math.pow(e-o,2)),[u,p]=n.useState({isDragged:!1,startViewPosition:{x:0,y:0},startDragPosition:{x:0,y:0}}),[g,x]=n.useState("0"),[y,b]=n.useState("0"),[z,k]=n.useState({x:1809,y:0}),[j,P]=n.useState({from:-1200,to:2025,stepSize:10}),M={boxSize:50},D={dotSize:15,boxSize:50,maxLettersColumns:25,maxLettersRows:3},O={dotSize:15,boxSize:50},L={windowSize:{x:t.width,y:t.height},yearLabelWidth:100,rowHeight:165},W=[...Array(Math.ceil((j.to-j.from)/j.stepSize))].map((t,e)=>j.from+e*j.stepSize),E=t=>(t-z.x)*e,A=t=>E(t)+L.rowHeight>0&&E(t)-L.rowHeight<L.windowSize.x,Y=(t,e)=>E(e)+L.rowHeight>0&&E(t)-L.rowHeight<L.windowSize.x,H=t=>L.rowHeight*t+z.y,C=(t,e,i)=>{0==t&&p({isDragged:!0,startViewPosition:z,startDragPosition:{x:e,y:i}})},N=()=>p(t=>({...t,isDragged:!1})),R=(t,i)=>{u.isDragged&&k({x:Math.min(Math.max(u.startViewPosition.x-(t-u.startDragPosition.x)/e,j.from-L.yearLabelWidth),j.to+L.yearLabelWidth),y:u.startViewPosition.y+(i-u.startDragPosition.y)})};return(0,o.jsxs)("div",{style:{backgroundColor:"#f3f3f3",width:L.windowSize.x,height:L.windowSize.y,overflow:"hidden"},onMouseDown:t=>C(t.button,t.pageX,t.pageY),onTouchStart:t=>{switch(t.touches.length){case 1:C(0,t.touches[0].pageX,t.touches[0].pageY);break;case 2:C(0,t.touches[0].pageX,t.touches[0].pageY),h(l(t.touches[0].pageX,t.touches[0].pageY,t.touches[1].pageX,t.touches[1].pageY))}},onMouseUp:t=>N(),onTouchEnd:t=>N(),onMouseMove:t=>R(t.pageX,t.pageY),onTouchMove:t=>{switch(t.touches.length){case 1:R(t.touches[0].pageX,t.touches[0].pageY);break;case 2:let o=l(t.touches[0].pageX,t.touches[0].pageY,t.touches[1].pageX,t.touches[1].pageY);i(e-(s-o)/200),h(o),e<=10?P(t=>({...t,stepSize:100})):e<=20?P(t=>({...t,stepSize:10})):P(t=>({...t,stepSize:5})),k({x:z.x-o/100,y:z.y}),N()}},onWheel:t=>{11>=Math.max(1,e-t.deltaY/100)?(P(t=>({...t,stepSize:100})),i(Math.max(1,e-t.deltaY/100))):e-t.deltaY/200<=22?(P(t=>({...t,stepSize:10})),i(e-t.deltaY/200)):(P(t=>({...t,stepSize:5})),i(e-t.deltaY/300)),k({x:z.x-t.deltaY/100,y:z.y})},children:[(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${L.windowSize.x} ${L.windowSize.y}`,preserveAspectRatio:"xMidYMid meet",style:{width:L.windowSize.x,height:L.windowSize.y},children:[(0,o.jsx)("rect",{x:"0%",y:"0%",width:L.windowSize.x,height:L.windowSize.y,onClick:()=>{b("0"),x("0")},onMouseMove:()=>{b("0"),x("0")},style:{fill:"white",stroke:"none",strokeWidth:"0",fillOpacity:"0",strokeOpacity:"0"}}),W.filter(A).map((t,e)=>(0,o.jsx)(r,{year:t,height:L.windowSize.y,position:E(t)},"yearLine"+t+e)),d.filter(t=>Y(t.born,t.died)).map((t,e)=>(0,o.jsx)(c,{person:t,positionStart:E(t.born),positionEnd:E(t.died),settings:M,rowPosition:H(t.rowNumber),updateHighlightedAuthor:x},"person"+t.id+e)),S.map((t,e)=>{var i,n,s,r;if(t.from&&t.to&&Y(Math.min(null==(i=t.from)?void 0:i.publicationDate,null==(n=t.to)?void 0:n.publicationDate),Math.max(null==(s=t.from)?void 0:s.publicationDate,null==(r=t.to)?void 0:r.publicationDate))){let i=f(t.from),n=f(t.to);if(i&&n)return(0,o.jsx)(v,{publicationReference:t,settings:O,authorFrom:i,authorTo:n,positionStart:E(t.from.publicationDate),positionEnd:E(t.to.publicationDate),rowPositionFrom:H(i.rowNumber),rowPositionTo:H(n.rowNumber),isHighlighted:g==i.id||y==t.from.id},"pubref"+t.id+e)}}),w.filter(t=>A(t.publicationDate)).map((t,e)=>({publication:t,author:f(t)})).map((t,e)=>{let{publication:i,author:n}=t;if(n)return(0,o.jsx)(m,{publication:i,author:n,position:E(i.publicationDate),settings:D,rowPosition:H(n.rowNumber),updateHighlightedPublication:b},"publication"+i.id+e)})]}),(0,o.jsx)("div",{className:"scaleContainer",children:(0,o.jsx)("div",{className:"scale",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${L.windowSize.x} 60`,preserveAspectRatio:"xMidYMid meet",style:{width:L.windowSize.x,height:60},children:W.filter(A).map((t,e)=>(0,o.jsx)(a,{year:t,position:E(t),yearLabelWidth:L.yearLabelWidth},"yearLabel"+t+e))})})})]})},j=document.getElementById("root");j&&s.createRoot(j).render((0,o.jsx)(n.StrictMode,{children:(0,o.jsx)(()=>(0,o.jsx)(k,{}),{})}))}},e={};function i(o){var n=e[o];if(void 0!==n)return n.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,i),s.exports}i.m=t,i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t=[];i.O=(e,o,n,s)=>{if(o){s=s||0;for(var r=t.length;r>0&&t[r-1][2]>s;r--)t[r]=t[r-1];t[r]=[o,n,s];return}for(var a=1/0,r=0;r<t.length;r++){for(var[o,n,s]=t[r],h=!0,l=0;l<o.length;l++)(!1&s||a>=s)&&Object.keys(i.O).every(t=>i.O[t](o[l]))?o.splice(l--,1):(h=!1,s<a&&(a=s));if(h){t.splice(r--,1);var d=n();void 0!==d&&(e=d)}}return e}})(),(()=>{var t={410:0};i.O.j=e=>0===t[e];var e=(e,o)=>{var n,s,[r,a,h]=o,l=0;if(r.some(e=>0!==t[e])){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(h)var d=h(i)}for(e&&e(o);l<r.length;l++)s=r[l],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(d)},o=self.webpackChunkchronology_presenter=self.webpackChunkchronology_presenter||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})();var o=i.O(void 0,["783"],function(){return i(468)});o=i.O(o)})();