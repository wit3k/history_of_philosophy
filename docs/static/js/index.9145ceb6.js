(()=>{"use strict";var t={829:function(t,e,i){var o=i(848),s=i(540),r=i(338);let n=t=>(0,o.jsx)("line",{x1:t.position,y1:"0",x2:t.position,y2:t.height,stroke:"#d9d9d9",strokeWidth:t.year%100?"1":"3",strokeDasharray:t.year%100?"4":""}),a=t=>(0,o.jsxs)("g",{children:[(0,o.jsx)("rect",{x:t.position-t.yearLabelWidth/2,y:"30",rx:"5",ry:"5",width:t.yearLabelWidth,height:"40",fill:t.year%100?"#cecece":"#eeeeee"}),(0,o.jsx)("text",{x:t.position,y:"55",width:t.yearLabelWidth,dominantBaseline:"middle",textAnchor:"middle",height:"40",fontFamily:"Verdana",fontSize:"15",fill:"dark-grey",children:t.year})]});function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}let l=class{constructor(t,e,i,o,s){h(this,"id",void 0),h(this,"name",void 0),h(this,"born",void 0),h(this,"died",void 0),h(this,"rowNumber",void 0),this.id=t,this.name=e,this.born=i,this.died=o,this.rowNumber=s}},d=[new l("1","Pan Testowy z Bardzo długim",1820,1901,1),new l("2","Drugi Pan",1831,1888,2),new l("3","Czeci Pan",1810,1848,3),new l("4","Czarta Pani",1820,1901,4)].sort((t,e)=>t.born-e.born),c=["#2CAA58","#381A47","#321E94","#8C3226","#678A51","#47D7A1","#E78140","#321706","#1B5383","#2F0427","#55BAD8"],p=t=>c[Math.floor(t.split("").map(t=>t.charCodeAt(0)).reduce((t,e)=>Math.min(e,1e3)+t)%1e3/1e3*c.length)],g=t=>{let e=p(t.person.name);return(0,o.jsxs)("g",{onClick:t=>console.log(t),children:[(0,o.jsx)("rect",{x:t.positionStart+5,y:t.rowPosition,rx:"5",ry:"5",width:t.settings.boxSize,height:t.settings.boxSize,style:{fill:e,stroke:e,strokeWidth:"0",fillOpacity:"0.1",strokeOpacity:"1"}}),(0,o.jsx)("rect",{x:t.positionStart,y:t.rowPosition-5,rx:"10",ry:"10",width:t.settings.boxSize+10,height:t.settings.boxSize+10,style:{fill:e,stroke:e,strokeWidth:"1",fillOpacity:"0.1",strokeOpacity:"1"},className:"cursor-pointer"}),(0,o.jsx)("rect",{x:t.positionStart,y:t.rowPosition+t.settings.boxSize,rx:"5",ry:"5",width:10*t.person.name.length,height:30,style:{fill:e,stroke:e,strokeWidth:"0",fillOpacity:"1",strokeOpacity:"0"},className:"cursor-pointer"}),(0,o.jsx)("text",{x:t.positionStart+5,y:t.rowPosition+t.settings.boxSize+6,width:10*t.person.name.length,dominantBaseline:"hanging",textAnchor:"start",height:"40",fontFamily:"Verdana",fontSize:"15",fill:"white",className:"cursor-pointer",children:t.person.name}),(0,o.jsx)("rect",{x:t.positionStart+10+t.settings.boxSize,y:t.rowPosition,rx:"5",ry:"5",width:t.positionEnd-t.positionStart,height:t.settings.boxSize,style:{fill:e,stroke:e,strokeWidth:"1",fillOpacity:"0.1",strokeOpacity:"1"}}),(0,o.jsx)("line",{x1:t.positionStart+20+t.settings.boxSize,y1:t.rowPosition+t.settings.boxSize/2,x2:t.positionEnd-0+t.settings.boxSize,y2:t.rowPosition+t.settings.boxSize/2,stroke:"#ffffff",strokeWidth:"5"})]})},w=class{constructor(t,e,i,o){h(this,"id",void 0),h(this,"title",void 0),h(this,"publicationDate",void 0),h(this,"authorId",void 0),this.id=t,this.title=e,this.publicationDate=i,this.authorId=o}},u=[new w("1","Pierwszy tytuł",1840,"1"),new w("2","Drugi",1842,"1"),new w("3","Książka jakaś",1849,"1"),new w("4","Książka jakaś",1849,"2"),new w("5","Traktat",1844,"2"),new w("6","Esej",1844,"3"),new w("7","Rozprawka",1855,"4")],x=new Map;u.forEach(t=>{x.set(t.id,d.find(e=>t.authorId==e.id))});let y=u.sort((t,e)=>t.publicationDate-e.publicationDate),f=t=>{let e=p(t.author.name);return(0,o.jsxs)("g",{onClick:t=>console.log(t),children:[(0,o.jsxs)("g",{children:[(0,o.jsx)("rect",{x:t.position+t.settings.boxSize-5*t.publication.title.length,y:t.rowPosition+t.settings.boxSize/2,rx:"5",ry:"5",width:10*t.publication.title.length+10,height:50,style:{fill:e,stroke:"white",strokeWidth:"4px",fillOpacity:"1",strokeOpacity:"1"},className:"tooltip"}),(0,o.jsx)("text",{x:t.position+t.settings.boxSize-5*t.publication.title.length+10*t.publication.title.length/2,y:t.rowPosition+t.settings.boxSize/2+20,width:10*t.publication.title.length+10,dominantBaseline:"hanging",textAnchor:"middle",height:"40",fontFamily:"Verdana",fontSize:"15",fill:"white",className:"tooltip",children:t.publication.title})]}),(0,o.jsx)("circle",{cx:t.position+t.settings.boxSize,cy:t.rowPosition+t.settings.boxSize/2,r:t.settings.dotSize,style:{fill:e,stroke:"white",strokeWidth:"4",fillOpacity:"1",strokeOpacity:"1"},className:"tooltipHover cursor-pointer"})]})},b=()=>{let t=function(){let t="undefined"!=typeof window;function e(){return{width:t?window.innerWidth:0,height:t?window.innerHeight:0}}let[i,o]=(0,s.useState)(e());return(0,s.useEffect)(()=>{if(t){function i(){o(e())}return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)}},[t]),i}(),[e,i]=s.useState(15),[r,h]=s.useState(0),l=(t,e,i,o)=>Math.sqrt(Math.pow(t-i,2)+Math.pow(e-o,2)),[c,p]=s.useState({isDragged:!1,startViewPosition:{x:0,y:0},startDragPosition:{x:0,y:0}}),[w,u]=s.useState({x:1785,y:0}),[b,S]=s.useState({from:-1200,to:2025,stepSize:10}),m={boxSize:50},z={dotSize:15,boxSize:50},v={windowSize:{x:t.width,y:t.height},yearLabelWidth:100,rowHeight:165},k=[...Array(Math.ceil((b.to-b.from)/b.stepSize))].map((t,e)=>b.from+e*b.stepSize),j=t=>(t-w.x)*e,P=t=>j(t)+v.rowHeight>0&&j(t)-v.rowHeight<v.windowSize.x,O=t=>v.rowHeight*t+w.y,D=(t,e,i)=>{0==t&&p({isDragged:!0,startViewPosition:w,startDragPosition:{x:e,y:i}})},M=()=>p(t=>({...t,isDragged:!1})),W=(t,i)=>{c.isDragged&&u({x:Math.min(Math.max(c.startViewPosition.x-(t-c.startDragPosition.x)/e,b.from-v.yearLabelWidth),b.to+v.yearLabelWidth),y:c.startViewPosition.y+(i-c.startDragPosition.y)})};return(0,o.jsxs)("div",{style:{backgroundColor:"#f3f3f3",width:v.windowSize.x,height:v.windowSize.y,overflow:"hidden"},onMouseDown:t=>D(t.button,t.pageX,t.pageY),onTouchStart:t=>{switch(t.touches.length){case 1:D(0,t.touches[0].pageX,t.touches[0].pageY);break;case 2:D(0,t.touches[0].pageX,t.touches[0].pageY),h(l(t.touches[0].pageX,t.touches[0].pageY,t.touches[1].pageX,t.touches[1].pageY))}},onMouseUp:t=>M(),onTouchEnd:t=>{0===t.touches.length&&M()},onMouseMove:t=>W(t.pageX,t.pageY),onTouchMove:t=>{switch(t.touches.length){case 1:W(t.touches[0].pageX,t.touches[0].pageY);break;case 2:W(t.touches[0].pageX,t.touches[0].pageY);let o=l(t.touches[0].pageX,t.touches[0].pageY,t.touches[1].pageX,t.touches[1].pageY);i(e+(r-o)),h(o),e<=10?S(t=>({...t,stepSize:100})):e<=20?S(t=>({...t,stepSize:10})):S(t=>({...t,stepSize:5}))}},onWheel:t=>{e<=10?(i(Math.max(1,e-t.deltaY/100)),S(t=>({...t,stepSize:100}))):e<=20?(i(e-t.deltaY/200),S(t=>({...t,stepSize:10}))):(i(e-t.deltaY/300),S(t=>({...t,stepSize:5})))},children:[(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${v.windowSize.x} ${v.windowSize.y}`,preserveAspectRatio:"xMidYMid meet",style:{width:v.windowSize.x,height:v.windowSize.y},children:[k.filter(P).map((t,e)=>(0,o.jsx)(n,{year:t,height:v.windowSize.y,position:j(t)},"yearLine"+t+e)),d.filter(t=>{let e;return e=t.born,j(t.died)+v.rowHeight>0&&j(e)-v.rowHeight<v.windowSize.x}).map((t,e)=>(0,o.jsx)(g,{person:t,positionStart:j(t.born),positionEnd:j(t.died),settings:m,rowPosition:O(t.rowNumber)},"person"+t.id+e)),y.filter(t=>P(t.publicationDate)).map((t,e)=>({publication:t,author:x.get(t.id)})).map((t,e)=>{let{publication:i,author:s}=t;if(s)return(0,o.jsx)(f,{publication:i,author:s,position:j(i.publicationDate),settings:z,rowPosition:O(s.rowNumber)},"publication"+i.id+e)})]}),(0,o.jsx)("div",{className:"scaleContainer",children:(0,o.jsx)("div",{className:"scale",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${v.windowSize.x} 60`,preserveAspectRatio:"xMidYMid meet",style:{width:v.windowSize.x,height:60},children:k.filter(P).map((t,e)=>(0,o.jsx)(a,{year:t,position:j(t),yearLabelWidth:v.yearLabelWidth},"yearLabel"+t+e))})})})]})},S=document.getElementById("root");S&&r.createRoot(S).render((0,o.jsx)(s.StrictMode,{children:(0,o.jsx)(()=>(0,o.jsx)(b,{}),{})}))}},e={};function i(o){var s=e[o];if(void 0!==s)return s.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,i),r.exports}i.m=t,i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t=[];i.O=(e,o,s,r)=>{if(o){r=r||0;for(var n=t.length;n>0&&t[n-1][2]>r;n--)t[n]=t[n-1];t[n]=[o,s,r];return}for(var a=1/0,n=0;n<t.length;n++){for(var[o,s,r]=t[n],h=!0,l=0;l<o.length;l++)(!1&r||a>=r)&&Object.keys(i.O).every(t=>i.O[t](o[l]))?o.splice(l--,1):(h=!1,r<a&&(a=r));if(h){t.splice(n--,1);var d=s();void 0!==d&&(e=d)}}return e}})(),(()=>{var t={410:0};i.O.j=e=>0===t[e];var e=(e,o)=>{var s,r,[n,a,h]=o,l=0;if(n.some(e=>0!==t[e])){for(s in a)i.o(a,s)&&(i.m[s]=a[s]);if(h)var d=h(i)}for(e&&e(o);l<n.length;l++)r=n[l],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(d)},o=self.webpackChunkchronology_presenter=self.webpackChunkchronology_presenter||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})();var o=i.O(void 0,["783"],function(){return i(829)});o=i.O(o)})();