(()=>{"use strict";var t={468:function(t,e,i){var o=i(848),n=i(540),s=i(338);let r=t=>(0,o.jsx)("line",{x1:t.position,y1:"0",x2:t.position,y2:t.height,stroke:"#d9d9d9",strokeWidth:t.year%100?"1":"3",strokeDasharray:t.year%100?"4":""}),a=t=>(0,o.jsxs)("g",{children:[(0,o.jsx)("rect",{x:t.position-t.yearLabelWidth/2,y:"30",rx:"5",ry:"5",width:t.yearLabelWidth,height:"40",fill:t.year%100?"#cecece":"#eeeeee"}),(0,o.jsx)("text",{x:t.position,y:"55",width:t.yearLabelWidth,dominantBaseline:"middle",textAnchor:"middle",height:"40",fontFamily:"Verdana",fontSize:"15",fill:"dark-grey",children:t.year})]});function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}let l=class{constructor(t,e,i,o,n){h(this,"id",void 0),h(this,"name",void 0),h(this,"born",void 0),h(this,"died",void 0),h(this,"rowNumber",void 0),this.id=t,this.name=e,this.born=i,this.died=o,this.rowNumber=n}},d=[new l("1","Pan Testowy z baaaadzo długim nazwiskiem",1820,1901,1),new l("2","Drugi Pan..",1831,1888,2),new l("3","Czeci Pan",1810,1848,3),new l("4","Czarta Pani",1820,1901,4)],c=["#2CAA58","#381A47","#321E94","#8C3226","#678A51","#47D7A1","#E78140","#321706","#1B5383","#2F0427","#55BAD8"],p=t=>c[Math.floor(t.split("").map(t=>t.charCodeAt(0)).reduce((t,e)=>Math.min(e,1e3)+t)%1e3/1e3*c.length)],u=t=>{let e=p(t.person.name);return(0,o.jsxs)("g",{children:[(0,o.jsx)("rect",{x:t.positionStart+5,y:t.rowPosition,rx:"5",ry:"5",width:t.settings.boxSize,height:t.settings.boxSize,style:{fill:e,stroke:e,strokeWidth:"0",fillOpacity:"0.1",strokeOpacity:"1"}}),(0,o.jsx)("rect",{x:t.positionStart,y:t.rowPosition-5,rx:"10",ry:"10",width:t.settings.boxSize+10,height:t.settings.boxSize+10,style:{fill:e,stroke:e,strokeWidth:"1",fillOpacity:"0.1",strokeOpacity:"1"},className:"cursor-pointer"}),(0,o.jsx)("rect",{x:t.positionStart,y:t.rowPosition+t.settings.boxSize,rx:"5",ry:"5",width:10*t.person.name.length,height:30,style:{fill:e,stroke:e,strokeWidth:"0",fillOpacity:"1",strokeOpacity:"0"},className:"cursor-pointer"}),(0,o.jsx)("text",{x:t.positionStart+5,y:t.rowPosition+t.settings.boxSize+6,width:10*t.person.name.length,dominantBaseline:"hanging",textAnchor:"start",height:"40",fontFamily:"Verdana",fontSize:"15",fill:"white",className:"cursor-pointer",children:t.person.name}),(0,o.jsx)("rect",{x:t.positionStart+10+t.settings.boxSize,y:t.rowPosition,rx:"5",ry:"5",width:t.positionEnd-t.positionStart,height:t.settings.boxSize,style:{fill:e,stroke:e,strokeWidth:"1",fillOpacity:"0.1",strokeOpacity:"1"}}),(0,o.jsx)("line",{x1:t.positionStart+11+t.settings.boxSize,y1:t.rowPosition+t.settings.boxSize/2,x2:t.positionEnd+9+t.settings.boxSize,y2:t.rowPosition+t.settings.boxSize/2,stroke:"#ffffff",strokeWidth:"5"})]})},x=class{constructor(t,e,i,o){h(this,"id",void 0),h(this,"title",void 0),h(this,"publicationDate",void 0),h(this,"authorId",void 0),this.id=t,this.title=e,this.publicationDate=i,this.authorId=o}},g=[new x("1","Pierwszy tytuł",1840,"1"),new x("2","Drugi",1842,"1"),new x("3","Książka jakaś",1849,"1"),new x("4","Książka jakaś",1849,"2"),new x("5","Traktat",1874,"2"),new x("6","Esej",1821,"3"),new x("7","Rozprawka",1855,"4")],w=new Map;g.forEach(t=>{w.set(t.id,d.find(e=>t.authorId==e.id))});let y=t=>g.find(e=>e.id==t),f=t=>w.get(t.id),b=t=>{let e=p(t.author.name);return(0,o.jsxs)("g",{onClick:e=>console.log(t),children:[(0,o.jsxs)("g",{className:"tooltip",children:[(0,o.jsx)("rect",{x:t.position-5*t.publication.title.length,y:t.rowPosition+t.settings.boxSize/2,rx:"5",ry:"5",width:10*t.publication.title.length+10,height:50,style:{fill:e,stroke:"white",strokeWidth:"4px",fillOpacity:"1",strokeOpacity:"1"}}),(0,o.jsx)("text",{x:t.position-5*t.publication.title.length+10*t.publication.title.length/2,y:t.rowPosition+t.settings.boxSize/2+20,width:10*t.publication.title.length+10,dominantBaseline:"hanging",textAnchor:"middle",height:"40",fontFamily:"Verdana",fontSize:"15",fill:"white",children:t.publication.title})]}),(0,o.jsx)("circle",{cx:t.position,cy:t.rowPosition+t.settings.boxSize/2,r:t.settings.dotSize,style:{fill:e,stroke:"white",strokeWidth:"4",fillOpacity:"1",strokeOpacity:"1"},className:"tooltipHover cursor-pointer"})]})},m=class{constructor(t,e,i,o){h(this,"id",void 0),h(this,"name",void 0),h(this,"from",void 0),h(this,"to",void 0),this.id=t,this.name=e,this.from=i,this.to=o}},S=[new m("0","***",y("6"),y("1")),new m("1","***",y("6"),y("1")),new m("2","***",y("1"),y("4")),new m("3","***",y("1"),y("5")),new m("4","***",y("2"),y("5")),new m("5","***",y("3"),y("5")),new m("6","***",y("7"),y("5")),new m("7","***",y("2"),y("7")),new m("8","***",y("3"),y("4")),new m("9","***",y("3"),y("4")),new m("10","***",y("7"),y("6")),new m("11","***",y("5"),y("6"))];class z{constructor(t,e){h(this,"x",void 0),h(this,"y",void 0),this.x=t,this.y=e}}let v=t=>{if(t.publicationReference.from&&t.publicationReference.to){let e=new z(t.positionStart,t.rowPositionFrom+t.settings.boxSize/2),i=new z(t.positionEnd,t.rowPositionTo+t.settings.boxSize/2),n=e.y>i.y?-1:+(e.y!=i.y),s=e.x>i.x?-1:+(e.x!=i.x),r=.7+.7*((t.publicationReference.to.publicationDate+t.publicationReference.from.publicationDate)%5)/5,a=1.4+.7*((t.publicationReference.from.publicationDate+t.publicationReference.from.publicationDate)%5)/5,h=[];t.positionEnd==t.positionStart?(h.push(new z(e.x,e.y)),h.push(new z(i.x+.1,i.y+.1))):(h.push(new z(e.x+.877*t.settings.dotSize*s,e.y+.877*t.settings.dotSize*n)),h.push(new z(e.x+.877*t.settings.boxSize*s,e.y+t.settings.boxSize*r*n)),i.x-(e.x+t.settings.boxSize+t.settings.boxSize*r*s)>t.settings.boxSize*r*s?(h.push(new z(e.x+t.settings.boxSize+t.settings.boxSize*r*s,e.y+t.settings.boxSize*r*n)),h.push(new z(e.x+t.settings.boxSize+t.settings.boxSize*r*s,i.y-t.settings.boxSize*a*n)),h.push(new z(i.x-t.settings.boxSize,i.y-t.settings.boxSize*a*n)),h.push(new z(i.x,i.y-t.settings.boxSize*a*n))):h.push(new z(i.x,e.y+t.settings.boxSize*r*n)),h.push(new z(i.x,i.y-t.settings.dotSize*a*n)));let l=[["M",h[0].x,h[0].y],...h.map(t=>["L",t.x,t.y])].map(t=>t.join(" ")).join(" "),d=p(t.authorFrom.name),c=p(t.authorTo.name);return(0,o.jsxs)("g",{onClick:e=>console.log(t),children:[(0,o.jsx)("defs",{children:(0,o.jsxs)("linearGradient",{id:"linear-grad"+e.x+"-"+e.y,children:[(0,o.jsx)("stop",{offset:"0",stopColor:c}),(0,o.jsx)("stop",{offset:"1",stopColor:d})]})}),(0,o.jsx)("path",{d:function(t,e,i){function o(t,e,i){var o=e.x-t.x,s=e.y-t.y;return n(t,e,Math.min(1,i/Math.sqrt(o*o+s*s)))}function n(t,e,i){return{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}}function s(t,e){t.length>2&&(t[t.length-2]=e.x,t[t.length-1]=e.y)}function r(t){return{x:parseFloat(t[t.length-2]),y:parseFloat(t[t.length-1])}}var a=t.split(/[,\s]/).reduce(function(t,e){var i=e.match("([a-zA-Z])(.+)");return i?(t.push(i[1]),t.push(i[2])):t.push(e),t},[]).reduce(function(t,e){return parseFloat(e)==e&&t.length?t[t.length-1].push(e):t.push([e]),t},[]),h=[];if(a.length>1){var l=r(a[0]),d=null;"Z"==a[a.length-1][0]&&a[0].length>2&&(d=["L",l.x,l.y],a[a.length-1]=d),h.push(a[0]);for(var c=1;c<a.length;c++){var p=h[h.length-1],u=a[c],x=u==d?a[1]:a[c+1];if(x&&p&&p.length>2&&"L"==u[0]&&x.length>2&&"L"==x[0]){var g,w,y=r(p),f=r(u),b=r(x);i?(g=n(f,p.origPoint||y,5),w=n(f,x.origPoint||b,5)):(g=o(f,y,e),w=o(f,b,e)),s(u,g),u.origPoint=f,h.push(u);var m=n(g,f,.5),S=n(f,w,.5),z=["C",m.x,m.y,S.x,S.y,w.x,w.y];z.origPoint=f,h.push(z)}else h.push(u)}if(d){var v=r(h[h.length-1]);h.push(["Z"]),s(h[0],v)}}else h=a;return h.reduce(function(t,e){return t+e.join(" ")+" "},"")}(l,5,!1),stroke:"url(#linear-grad"+e.x+"-"+e.y+")",strokeWidth:"2",fill:"none",className:"opacity-70 animated-dash"})]})}},j=()=>{let t=function(){let t="undefined"!=typeof window;function e(){return{width:t?window.innerWidth:0,height:t?window.innerHeight:0}}let[i,o]=(0,n.useState)(e());return(0,n.useEffect)(()=>{if(t){function i(){o(e())}return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)}},[t]),i}(),[e,i]=n.useState(22),[s,h]=n.useState(0),l=(t,e,i,o)=>Math.sqrt(Math.pow(t-i,2)+Math.pow(e-o,2)),[c,p]=n.useState({isDragged:!1,startViewPosition:{x:0,y:0},startDragPosition:{x:0,y:0}}),[x,w]=n.useState({x:1809,y:0}),[y,m]=n.useState({from:-1200,to:2025,stepSize:10}),z={boxSize:50},j={dotSize:15,boxSize:50},k={dotSize:15,boxSize:50},P={windowSize:{x:t.width,y:t.height},yearLabelWidth:100,rowHeight:165},D=[...Array(Math.ceil((y.to-y.from)/y.stepSize))].map((t,e)=>y.from+e*y.stepSize),M=t=>(t-x.x)*e,O=t=>M(t)+P.rowHeight>0&&M(t)-P.rowHeight<P.windowSize.x,W=(t,e)=>M(e)+P.rowHeight>0&&M(t)-P.rowHeight<P.windowSize.x,E=t=>P.rowHeight*t+x.y,L=(t,e,i)=>{0==t&&p({isDragged:!0,startViewPosition:x,startDragPosition:{x:e,y:i}})},Y=()=>p(t=>({...t,isDragged:!1})),A=(t,i)=>{c.isDragged&&w({x:Math.min(Math.max(c.startViewPosition.x-(t-c.startDragPosition.x)/e,y.from-P.yearLabelWidth),y.to+P.yearLabelWidth),y:c.startViewPosition.y+(i-c.startDragPosition.y)})};return(0,o.jsxs)("div",{style:{backgroundColor:"#f3f3f3",width:P.windowSize.x,height:P.windowSize.y,overflow:"hidden"},onMouseDown:t=>L(t.button,t.pageX,t.pageY),onTouchStart:t=>{switch(t.touches.length){case 1:L(0,t.touches[0].pageX,t.touches[0].pageY);break;case 2:L(0,t.touches[0].pageX,t.touches[0].pageY),h(l(t.touches[0].pageX,t.touches[0].pageY,t.touches[1].pageX,t.touches[1].pageY))}},onMouseUp:t=>Y(),onTouchEnd:t=>Y(),onMouseMove:t=>A(t.pageX,t.pageY),onTouchMove:t=>{switch(t.touches.length){case 1:A(t.touches[0].pageX,t.touches[0].pageY);break;case 2:let o=l(t.touches[0].pageX,t.touches[0].pageY,t.touches[1].pageX,t.touches[1].pageY);i(e-(s-o)/200),h(o),e<=10?m(t=>({...t,stepSize:100})):e<=20?m(t=>({...t,stepSize:10})):m(t=>({...t,stepSize:5})),Y()}},onWheel:t=>{11>=Math.max(1,e-t.deltaY/100)?(m(t=>({...t,stepSize:100})),i(Math.max(1,e-t.deltaY/100))):e-t.deltaY/200<=22?(m(t=>({...t,stepSize:10})),i(e-t.deltaY/200)):(m(t=>({...t,stepSize:5})),i(e-t.deltaY/300))},children:[(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${P.windowSize.x} ${P.windowSize.y}`,preserveAspectRatio:"xMidYMid meet",style:{width:P.windowSize.x,height:P.windowSize.y},children:[D.filter(O).map((t,e)=>(0,o.jsx)(r,{year:t,height:P.windowSize.y,position:M(t)},"yearLine"+t+e)),S.map((t,e)=>{var i,n,s,r;if(t.from&&t.to&&W(Math.min(null==(i=t.from)?void 0:i.publicationDate,null==(n=t.to)?void 0:n.publicationDate),Math.max(null==(s=t.from)?void 0:s.publicationDate,null==(r=t.to)?void 0:r.publicationDate))){let i=f(t.from),n=f(t.to);if(i&&n)return(0,o.jsx)(v,{publicationReference:t,settings:k,authorFrom:i,authorTo:n,positionStart:M(t.from.publicationDate),positionEnd:M(t.to.publicationDate),rowPositionFrom:E(i.rowNumber),rowPositionTo:E(n.rowNumber)},"pubref"+t.id+e)}}),d.filter(t=>W(t.born,t.died)).map((t,e)=>(0,o.jsx)(u,{person:t,positionStart:M(t.born),positionEnd:M(t.died),settings:z,rowPosition:E(t.rowNumber)},"person"+t.id+e)),g.filter(t=>O(t.publicationDate)).map((t,e)=>({publication:t,author:f(t)})).map((t,e)=>{let{publication:i,author:n}=t;if(n)return(0,o.jsx)(b,{publication:i,author:n,position:M(i.publicationDate),settings:j,rowPosition:E(n.rowNumber)},"publication"+i.id+e)})]}),(0,o.jsx)("div",{className:"scaleContainer",children:(0,o.jsx)("div",{className:"scale",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${P.windowSize.x} 60`,preserveAspectRatio:"xMidYMid meet",style:{width:P.windowSize.x,height:60},children:D.filter(O).map((t,e)=>(0,o.jsx)(a,{year:t,position:M(t),yearLabelWidth:P.yearLabelWidth},"yearLabel"+t+e))})})})]})},k=document.getElementById("root");k&&s.createRoot(k).render((0,o.jsx)(n.StrictMode,{children:(0,o.jsx)(()=>(0,o.jsx)(j,{}),{})}))}},e={};function i(o){var n=e[o];if(void 0!==n)return n.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,i),s.exports}i.m=t,i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t=[];i.O=(e,o,n,s)=>{if(o){s=s||0;for(var r=t.length;r>0&&t[r-1][2]>s;r--)t[r]=t[r-1];t[r]=[o,n,s];return}for(var a=1/0,r=0;r<t.length;r++){for(var[o,n,s]=t[r],h=!0,l=0;l<o.length;l++)(!1&s||a>=s)&&Object.keys(i.O).every(t=>i.O[t](o[l]))?o.splice(l--,1):(h=!1,s<a&&(a=s));if(h){t.splice(r--,1);var d=n();void 0!==d&&(e=d)}}return e}})(),(()=>{var t={410:0};i.O.j=e=>0===t[e];var e=(e,o)=>{var n,s,[r,a,h]=o,l=0;if(r.some(e=>0!==t[e])){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(h)var d=h(i)}for(e&&e(o);l<r.length;l++)s=r[l],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(d)},o=self.webpackChunkchronology_presenter=self.webpackChunkchronology_presenter||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})();var o=i.O(void 0,["783"],function(){return i(468)});o=i.O(o)})();