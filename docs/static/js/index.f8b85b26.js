(()=>{"use strict";var i={988:function(i,e,t){var o=t(848),n=t(540),s=t(338);let r=i=>(0,o.jsx)("line",{x1:i.position,y1:"0",x2:i.position,y2:i.height,stroke:"#d9d9d9",strokeWidth:i.year%100?"1":"3",strokeDasharray:i.year%100?"4":""}),a=i=>(0,o.jsxs)("g",{children:[(0,o.jsx)("rect",{x:"0%",y:"0%",width:i.padSize.x,height:i.padSize.y,onClick:i.stateResetHandler,onMouseMove:i.stateResetHandler,style:{fill:"white",stroke:"none",strokeWidth:"0",fillOpacity:"0",strokeOpacity:"0"}}),i.yearsOnScale.filter(i.isVisible).map((e,t)=>(0,o.jsx)(r,{year:e,height:i.padSize.y,position:i.positionByYear(e)},"yearLine"+e+t))]}),l=i=>(0,o.jsxs)("g",{children:[(0,o.jsx)("rect",{x:i.position-i.yearLabelWidth/2,y:"30",rx:"5",ry:"5",width:i.yearLabelWidth,height:"40",fill:i.year%100?"#f3f3f3":"#fff"}),(0,o.jsx)("text",{x:i.position,y:"55",width:i.yearLabelWidth,dominantBaseline:"middle",textAnchor:"middle",height:"40",fontFamily:"Verdana",fontSize:"15",fill:"dark-grey",children:i.year})]}),h=i=>(0,o.jsx)("div",{className:"scaleContainer",children:(0,o.jsx)("div",{className:"scale",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${i.padSize.x} 60`,preserveAspectRatio:"xMidYMid meet",style:{width:i.padSize.x,height:60},children:i.yearsOnScale.filter(i.isVisible).map((e,t)=>(0,o.jsx)(l,{year:e,position:i.positionByYear(e),yearLabelWidth:i.yearLabelWidth},"yearLabel"+e+t))})})});function d(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}let p=class{constructor(i,e,t,o){d(this,"id",void 0),d(this,"title",void 0),d(this,"publicationDate",void 0),d(this,"authorId",void 0),this.id=i,this.title=e,this.publicationDate=t,this.authorId=o}},u=class{constructor(i,e,t,o,n){d(this,"id",void 0),d(this,"name",void 0),d(this,"born",void 0),d(this,"died",void 0),d(this,"rowNumber",void 0),this.id=i,this.name=e,this.born=t,this.died=o,this.rowNumber=n}},g=[new u("1","Pan Testowy z baaaadzo długim nazwiskiem",1820,1901,1),new u("2","Drugi Pan..",1831,1888,2),new u("3","Czeci Pan",1810,1848,3),new u("5","Pan R\xf3wnoległy :)",1850,1888,3),new u("4","Czarta Pani",1820,1901,4)].sort((i,e)=>i.born-e.born),c=[new p("1","Pierwszy tytuł",1840,"1"),new p("2","Drugi",1842,"1"),new p("3","Książka jakaś",1849,"1"),new p("4","Książka jakaś",1849,"2"),new p("5","Traktat",1874,"2"),new p("6","Esej",1821,"3"),new p("7","Rozprawka",1855,"4"),new p("8","Publikacja o bardzo długim, zawiłym i wielomodułowym tytule. Pierwsza kreww.",1883,"5")].sort((i,e)=>i.publicationDate-e.publicationDate),w=new Map;c.forEach(i=>{w.set(i.id,g.find(e=>i.authorId==e.id))});let x=()=>c,y=i=>c.find(e=>e.id==i),b=i=>w.get(i.id),f=["#2CAA58","#381A47","#321E94","#8C3226","#678A51","#47D7A1","#E78140","#321706","#1B5383","#2F0427","#55BAD8"],m=i=>f[Math.floor(i.split("").map(i=>i.charCodeAt(0)).reduce((i,e)=>Math.min(e,1e3)+i)%1e3/1e3*f.length)],S=i=>{let e=m(i.author.name),t=i.publication.title.split(" ").map(i=>[i]).reduce((e,t)=>{let o=e[e.length-1]+" "+t[0];return o.length<i.settings.maxLettersColumns?[...e.slice(0,-1),o]:[...e,t[0]]}),n=t.slice(0,i.settings.maxLettersRows);return(0,o.jsxs)("g",{children:[(0,o.jsxs)("g",{className:"tooltip",children:[(0,o.jsx)("rect",{x:i.position-100,y:i.rowPosition+i.settings.boxSize/2,rx:"3",ry:"3",width:"220",height:60+10*(n.length-1),style:{fill:"white",stroke:e,strokeWidth:"2px",fillOpacity:"0.5",strokeOpacity:"1"}}),(0,o.jsx)("text",{x:i.position-100,y:i.rowPosition+i.settings.boxSize/2+20,width:"200",dominantBaseline:"hanging",textAnchor:"start",height:60+10*(n.length-1),fontFamily:"Verdana",fontSize:"15",fill:e,dy:"10",children:n.map((e,s)=>(0,o.jsxs)("tspan",{x:i.position-90,dy:"0.8em",children:[e," ",s==n.length-1&&n.length!=t.length?"...":""," "]}))})]}),(0,o.jsx)("circle",{cx:i.position,cy:i.rowPosition+i.settings.boxSize/2,r:i.settings.dotSize,onMouseMove:()=>i.updateHighlightedPublication(i.publication.id),onClick:()=>i.updateHighlightedPublication(i.publication.id),style:{fill:"white",stroke:e,strokeWidth:"4",fillOpacity:"1",strokeOpacity:"1"},className:"tooltipHover cursor-pointer"})]})},z=i=>x().filter(e=>i.isVisible(e.publicationDate)).map((i,e)=>({publication:i,author:b(i)})).map((e,t)=>{let{publication:n,author:s}=e;if(s)return(0,o.jsx)(S,{publication:n,author:s,position:i.positionByYear(n.publicationDate),settings:i.publicationNodeSettings,rowPosition:i.rowPosition(s.rowNumber),updateHighlightedPublication:i.updateHighlightedPublication},"publication"+n.id+t)});class v{constructor(i,e){d(this,"x",void 0),d(this,"y",void 0),this.x=i,this.y=e}}let P=i=>{let e=m(i.person.name);return(0,o.jsxs)("g",{children:[(0,o.jsx)("rect",{x:i.positionStart,y:i.rowPosition,rx:"5",ry:"5",width:i.positionEnd-i.positionStart,height:i.settings.boxSize,style:{fill:e,stroke:e,strokeWidth:"0",fillOpacity:"0.1",strokeOpacity:"1"}}),(0,o.jsx)("line",{x1:i.positionStart+i.settings.boxSize,y1:i.rowPosition+i.settings.boxSize/2,x2:i.positionEnd,y2:i.rowPosition+i.settings.boxSize/2,stroke:e,strokeWidth:"4"}),(0,o.jsx)("rect",{x:i.positionStart,y:i.rowPosition,rx:"10",ry:"10",width:i.settings.boxSize,height:i.settings.boxSize,style:{fill:e,stroke:e,strokeWidth:"2",fillOpacity:"0.1",strokeOpacity:"1"},className:"cursor-pointer",onMouseMove:()=>i.updateHighlightedAuthor(i.person.id),onClick:()=>i.updateHighlightedAuthor(i.person.id)}),(0,o.jsx)("rect",{x:i.positionStart-1,y:i.rowPosition+i.settings.boxSize-15,rx:"5",ry:"5",width:10*i.person.name.length,height:22,style:{fill:e,stroke:e,strokeWidth:"0",fillOpacity:"1",strokeOpacity:"0"},className:"cursor-pointer"}),(0,o.jsx)("text",{x:i.positionStart+5,y:i.rowPosition+i.settings.boxSize-12,width:10*i.person.name.length,dominantBaseline:"hanging",textAnchor:"start",height:"30",fontFamily:"Verdana",fontSize:"15",fill:"white",className:"cursor-pointer",children:i.person.name})]})},j=i=>g.filter(e=>i.isVisibleRange(e.born,e.died)).map((e,t)=>(0,o.jsx)(P,{person:e,positionStart:i.positionByYear(e.born),positionEnd:i.positionByYear(e.died),settings:i.personNodesSettings,rowPosition:i.rowPosition(e.rowNumber),updateHighlightedAuthor:i.updateHighlightedAuthor},"person"+e.id+t)),k=class{constructor(i,e,t,o){d(this,"id",void 0),d(this,"name",void 0),d(this,"from",void 0),d(this,"to",void 0),this.id=i,this.name=e,this.from=t,this.to=o}},M=[new k("0","***",y("6"),y("1")),new k("1","***",y("6"),y("1")),new k("2","***",y("1"),y("8")),new k("3","***",y("1"),y("5")),new k("4","***",y("2"),y("5")),new k("5","***",y("3"),y("5")),new k("6","***",y("7"),y("5")),new k("7","***",y("2"),y("7")),new k("8","***",y("3"),y("4")),new k("9","***",y("3"),y("4")),new k("10","***",y("7"),y("8")),new k("11","***",y("5"),y("8")),new k("12","***",y("6"),y("8"))].sort((i,e)=>i.from&&e.from?i.from.publicationDate-e.from.publicationDate:0),D=i=>{if(i.publicationReference.from&&i.publicationReference.to){let e=2*i.settings.boxSize,t=Math.min(i.positionStart,i.positionEnd),n=Math.max(i.positionStart,i.positionEnd),s=n-t<e?(n-t)%e/e:1,r=new v(i.positionStart,i.rowPositionFrom+i.settings.boxSize/2),a=new v(i.positionEnd,i.rowPositionTo+i.settings.boxSize/2),l=r.y>a.y?-1:1,h=r.y==a.y?-1:1,d=r.x>a.x?-1:1,p=.7+.7*((i.publicationReference.to.publicationDate+i.publicationReference.from.publicationDate)%15)/15,u=1.4+.7*((i.publicationReference.to.publicationDate+i.publicationReference.from.publicationDate)%5)/5,g=[];i.positionEnd==i.positionStart?(g.push(new v(r.x,r.y)),g.push(new v(a.x+.1,a.y+.1))):(g.push(new v(r.x+.877*i.settings.dotSize*d*s,r.y+.877*i.settings.dotSize*l*h)),g.push(new v(r.x+.877*i.settings.boxSize*d*s,r.y+i.settings.boxSize*p*l*h)),g.push(new v(r.x+(i.settings.boxSize+i.settings.boxSize*p*d)*s,r.y+i.settings.boxSize*p*l*h)),g.push(new v(r.x+(i.settings.boxSize+i.settings.boxSize*p*d)*s,a.y-i.settings.boxSize*u*l)),g.push(new v(a.x,a.y-i.settings.boxSize*u*l)),g.push(new v(a.x,a.y-i.settings.dotSize*l)));let c=[["M",g[0].x,g[0].y],...g.map(i=>["L",i.x,i.y])].map(i=>i.join(" ")).join(" "),w=m(i.authorFrom.name);return(0,o.jsx)("path",{d:function(i,e,t){function o(i,e,t){var o=e.x-i.x,s=e.y-i.y;return n(i,e,Math.min(1,t/Math.sqrt(o*o+s*s)))}function n(i,e,t){return{x:i.x+(e.x-i.x)*t,y:i.y+(e.y-i.y)*t}}function s(i,e){i.length>2&&(i[i.length-2]=e.x,i[i.length-1]=e.y)}function r(i){return{x:parseFloat(i[i.length-2]),y:parseFloat(i[i.length-1])}}var a=i.split(/[,\s]/).reduce(function(i,e){var t=e.match("([a-zA-Z])(.+)");return t?(i.push(t[1]),i.push(t[2])):i.push(e),i},[]).reduce(function(i,e){return parseFloat(e)==e&&i.length?i[i.length-1].push(e):i.push([e]),i},[]),l=[];if(a.length>1){var h=r(a[0]),d=null;"Z"==a[a.length-1][0]&&a[0].length>2&&(d=["L",h.x,h.y],a[a.length-1]=d),l.push(a[0]);for(var p=1;p<a.length;p++){var u=l[l.length-1],g=a[p],c=g==d?a[1]:a[p+1];if(c&&u&&u.length>2&&"L"==g[0]&&c.length>2&&"L"==c[0]){var w,x,y=r(u),b=r(g),f=r(c);t?(w=n(b,u.origPoint||y,5),x=n(b,c.origPoint||f,5)):(w=o(b,y,e),x=o(b,f,e)),s(g,w),g.origPoint=b,l.push(g);var m=n(w,b,.5),S=n(b,x,.5),z=["C",m.x,m.y,S.x,S.y,x.x,x.y];z.origPoint=b,l.push(z)}else l.push(g)}if(d){var v=r(l[l.length-1]);l.push(["Z"]),s(l[0],v)}}else l=a;return l.reduce(function(i,e){return i+e.join(" ")+" "},"")}(c,5,!1),stroke:w,strokeWidth:"2",fill:"none",className:"opacity-70 "+(i.isHighlighted?"animated-dash":"")})}},O=i=>M.map((e,t)=>{var n,s,r,a;if(e.from&&e.to&&i.isVisibleRange(Math.min(null==(n=e.from)?void 0:n.publicationDate,null==(s=e.to)?void 0:s.publicationDate),Math.max(null==(r=e.from)?void 0:r.publicationDate,null==(a=e.to)?void 0:a.publicationDate))){let n=b(e.from),s=b(e.to);if(n&&s)return(0,o.jsx)(D,{publicationReference:e,settings:i.publicationReferenceSettings,authorFrom:n,authorTo:s,positionStart:i.positionByYear(e.from.publicationDate),positionEnd:i.positionByYear(e.to.publicationDate),rowPositionFrom:i.rowPosition(n.rowNumber),rowPositionTo:i.rowPosition(s.rowNumber),isHighlighted:i.highlightedAuthor==n.id||i.highlightedPublication==e.from.id},"pubref"+e.id+t)}}),Y=()=>{let i=function(){let i="undefined"!=typeof window;function e(){return{width:i?window.innerWidth:0,height:i?window.innerHeight:0}}let[t,o]=(0,n.useState)(e());return(0,n.useEffect)(()=>{if(i){function t(){o(e())}return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}},[i]),t}(),e={windowSize:{x:i.width,y:i.height},yearLabelWidth:100,rowHeight:165},[t,s]=n.useState(22),[r,l]=n.useState(0),[d,p]=n.useState({isDragged:!1,startViewPosition:{x:0,y:0},startDragPosition:{x:0,y:0}}),[u,g]=n.useState("0"),[c,w]=n.useState("0"),[x,y]=n.useState({x:1809,y:0}),[b,f]=n.useState({from:-1200,to:2025,stepSize:10}),m=[...Array(Math.ceil((b.to-b.from)/b.stepSize))].map((i,e)=>b.from+e*b.stepSize),S=i=>(i-x.x)*t,P=i=>S(i)+e.rowHeight>0&&S(i)-e.rowHeight<e.windowSize.x,k=i=>e.rowHeight*i+x.y,M=(i,e,t)=>{0==i&&p({isDragged:!0,startViewPosition:x,startDragPosition:{x:e,y:t}})},D=()=>p(i=>({...i,isDragged:!1})),Y=(i,o)=>{d.isDragged&&y({x:Math.min(Math.max(d.startViewPosition.x-(i-d.startDragPosition.x)/t,b.from-e.yearLabelWidth),b.to+e.yearLabelWidth),y:d.startViewPosition.y+(o-d.startDragPosition.y)})},H=(i,e,t,o)=>Math.sqrt(Math.pow(i-t,2)+Math.pow(e-o,2));return(0,o.jsxs)("div",{style:{backgroundColor:"#f3f3f3",width:e.windowSize.x,height:e.windowSize.y,overflow:"hidden"},onMouseDown:i=>M(i.button,i.pageX,i.pageY),onTouchStart:i=>(i=>{switch(i.length){case 1:M(0,i[0].pageX,i[0].pageY);break;case 2:M(0,i[0].pageX,i[0].pageY),l(H(i[0].pageX,i[0].pageY,i[1].pageX,i[1].pageY))}})(i.touches),onMouseUp:i=>D(),onTouchEnd:i=>D(),onMouseMove:i=>Y(i.pageX,i.pageY),onTouchMove:i=>(i=>{switch(i.length){case 1:Y(i[0].pageX,i[0].pageY);break;case 2:let e=H(i[0].pageX,i[0].pageY,i[1].pageX,i[1].pageY);s(t-(r-e)/200),l(e),t<=10?f(i=>({...i,stepSize:100})):t<=20?f(i=>({...i,stepSize:10})):f(i=>({...i,stepSize:5})),y({x:x.x-e/100,y:x.y}),D()}})(i.touches),onWheel:i=>{var e;11>=Math.max(1,t-(e=i.deltaY)/100)?(f(i=>({...i,stepSize:100})),s(Math.max(1,t-e/100))):t-e/200<=22?(f(i=>({...i,stepSize:10})),s(t-e/200)):(f(i=>({...i,stepSize:5})),s(t-e/300)),y({x:x.x-e/100,y:x.y})},children:[(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e.windowSize.x} ${e.windowSize.y}`,preserveAspectRatio:"xMidYMid meet",style:{width:e.windowSize.x,height:e.windowSize.y},children:[(0,o.jsx)(a,{padSize:new v(e.windowSize.x,e.windowSize.y),isVisible:P,positionByYear:S,stateResetHandler:()=>{w("0"),g("0")},yearsOnScale:m}),(0,o.jsx)(j,{isVisibleRange:P,personNodesSettings:{boxSize:50},positionByYear:S,rowPosition:k,updateHighlightedAuthor:g}),(0,o.jsx)(O,{highlightedAuthor:u,highlightedPublication:c,isVisibleRange:(i,t)=>S(t)+e.rowHeight>0&&S(i)-e.rowHeight<e.windowSize.x,positionByYear:S,publicationReferenceSettings:{dotSize:15,boxSize:50},rowPosition:k}),(0,o.jsx)(z,{isVisible:P,positionByYear:S,publicationNodeSettings:{dotSize:15,boxSize:50,maxLettersColumns:25,maxLettersRows:3},rowPosition:k,updateHighlightedPublication:w})]}),(0,o.jsx)(h,{padSize:new v(e.windowSize.x,e.windowSize.y),isVisible:P,positionByYear:S,yearLabelWidth:e.yearLabelWidth,yearsOnScale:m})]})},H=document.getElementById("root");H&&s.createRoot(H).render((0,o.jsx)(n.StrictMode,{children:(0,o.jsx)(()=>(0,o.jsx)(Y,{}),{})}))}},e={};function t(o){var n=e[o];if(void 0!==n)return n.exports;var s=e[o]={exports:{}};return i[o](s,s.exports,t),s.exports}t.m=i,t.o=(i,e)=>Object.prototype.hasOwnProperty.call(i,e),(()=>{var i=[];t.O=(e,o,n,s)=>{if(o){s=s||0;for(var r=i.length;r>0&&i[r-1][2]>s;r--)i[r]=i[r-1];i[r]=[o,n,s];return}for(var a=1/0,r=0;r<i.length;r++){for(var[o,n,s]=i[r],l=!0,h=0;h<o.length;h++)(!1&s||a>=s)&&Object.keys(t.O).every(i=>t.O[i](o[h]))?o.splice(h--,1):(l=!1,s<a&&(a=s));if(l){i.splice(r--,1);var d=n();void 0!==d&&(e=d)}}return e}})(),(()=>{var i={410:0};t.O.j=e=>0===i[e];var e=(e,o)=>{var n,s,[r,a,l]=o,h=0;if(r.some(e=>0!==i[e])){for(n in a)t.o(a,n)&&(t.m[n]=a[n]);if(l)var d=l(t)}for(e&&e(o);h<r.length;h++)s=r[h],t.o(i,s)&&i[s]&&i[s][0](),i[s]=0;return t.O(d)},o=self.webpackChunkchronology_presenter=self.webpackChunkchronology_presenter||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})();var o=t.O(void 0,["783"],function(){return t(988)});o=t.O(o)})();